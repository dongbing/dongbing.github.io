<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>改造Powershell</title>
      <link href="/2019/04/16/Windows/%E6%94%B9%E9%80%A0Powershell/"/>
      <url>/2019/04/16/Windows/%E6%94%B9%E9%80%A0Powershell/</url>
      
        <content type="html"><![CDATA[<h1 id="改造Powershell"><a href="#改造Powershell" class="headerlink" title="改造Powershell"></a>改造Powershell</h1><h2 id="改进-PowerShell-的字体"><a href="#改进-PowerShell-的字体" class="headerlink" title="改进 PowerShell 的字体"></a>改进 PowerShell 的字体</h2><p>下载解压安装更纱黑体之后，我们重新启动一个 PowerShell 终端，就可以在菜单栏右键，选择「属性-字体」，并在字体中选择更纱黑体。适合终端使用的等宽字体是「等距更纱黑体 T SC」或「Sarasa Mono T SC」。</p><h2 id="更换-PowerShell-的配色"><a href="#更换-PowerShell-的配色" class="headerlink" title="更换 PowerShell 的配色"></a>更换 PowerShell 的配色</h2><p>微软官方提供了一个更换 PowerShell 配色的小工具：ColorTool.exe，我们可以利用它来更换 PowerShell 的主题颜色。ColorTool 支持 iTerm 主题（以 .itermcolors 结尾的主题文件）。</p><p>如果使用 Scoop，也可以这样安装：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">scoop install colortool</span><br></pre></td></tr></table></figure><p>ColorTool 使用非常简单。工具自带了几种主题，可以利用下面这个命令进行查看：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">colortool -s</span><br></pre></td></tr></table></figure><p>比如希望将主题配色更换为 OneHalfDark.itermcolors，只需要输入下面这个命令就可以更换并预览更新：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">colortool OneHalfDark</span><br></pre></td></tr></table></figure></p><h2 id="Oh-my-posh"><a href="#Oh-my-posh" class="headerlink" title="Oh my posh"></a>Oh my posh</h2><p>安装chocolatey<br><a href="https://chocolatey.org/install" target="_blank" rel="noopener">https://chocolatey.org/install</a></p><p>安装ConEmu<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">choco install ConEmu</span><br></pre></td></tr></table></figure></p><p>安装Oh my posh<br><a href="https://github.com/JanDeDobbeleer/oh-my-posh" target="_blank" rel="noopener">https://github.com/JanDeDobbeleer/oh-my-posh</a></p><h2 id="Fluent-Terminal"><a href="#Fluent-Terminal" class="headerlink" title="Fluent Terminal"></a>Fluent Terminal</h2><p>Fluent Terminal 在 GitHub 上面开源，项目地址在：felixse/FluentTerminal。</p><p>需要从 其 GitHub Release 页面 下载安装它。通常情况下，如果你的 Windows 版本较新，可以直接使用 No Dependencies 的那个版本，不过如果接下来你安装过程出现问题，那么就使用第一个安装包。</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Windows 文字转语音</title>
      <link href="/2019/04/12/Windows/Windows%20%E6%96%87%E5%AD%97%E8%BD%AC%E8%AF%AD%E9%9F%B3/"/>
      <url>/2019/04/12/Windows/Windows%20%E6%96%87%E5%AD%97%E8%BD%AC%E8%AF%AD%E9%9F%B3/</url>
      
        <content type="html"><![CDATA[<h1 id="Windows-文字转语音"><a href="#Windows-文字转语音" class="headerlink" title="Windows 文字转语音"></a>Windows 文字转语音</h1><p>新建一个vbs脚本，内容如下：<br><figure class="highlight vbs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">CreateObject</span>(<span class="string">"SAPI.SpVoice"</span>).Speak<span class="string">"hello world!"</span></span><br></pre></td></tr></table></figure></p><p>其中“hello world!”为语音内容。</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Linux下自建Anki服务器</title>
      <link href="/2019/04/12/Linux/Linux%E4%B8%8B%E8%87%AA%E5%BB%BAAnki%E6%9C%8D%E5%8A%A1%E5%99%A8/"/>
      <url>/2019/04/12/Linux/Linux%E4%B8%8B%E8%87%AA%E5%BB%BAAnki%E6%9C%8D%E5%8A%A1%E5%99%A8/</url>
      
        <content type="html"><![CDATA[<h1 id="Linux下自建Anki服务器"><a href="#Linux下自建Anki服务器" class="headerlink" title="Linux下自建Anki服务器"></a>Linux下自建Anki服务器</h1><h2 id="1-Anki服务器端配置"><a href="#1-Anki服务器端配置" class="headerlink" title="1. Anki服务器端配置"></a>1. Anki服务器端配置</h2><p>首先安装ankiserver的服务器套件，用easy_install安装就好了，自动处理依赖关系。<strong>不要用pip</strong>，不知道为什么，会有莫名其妙的问题<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ easy_install Ankiserver</span><br></pre></td></tr></table></figure></p><p>在自己的用户目录下创建一个目录Anki<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ mkdir Anki</span><br></pre></td></tr></table></figure></p><p>进入这个目录<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ cd Anki</span><br></pre></td></tr></table></figure></p><p>复制一个example.ini到当前目录，修改为production.ini。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ cp /usr/examples/example.ini .</span><br></pre></td></tr></table></figure></p><p>编辑production.ini，修改基本参数<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">host = 192.168.0.100  #服务器的地址</span><br><span class="line">allowed_hosts = 192.168.0.30,192.168.0.40 #允许同步的客户端ip地址，你也可以写0.0.0.0 允许任何ip地址连接</span><br></pre></td></tr></table></figure></p><p>添加用户名和密码<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ankiserver.py addser anki #添加一个anki用户，而后输入密码</span><br></pre></td></tr></table></figure></p><p>测试运行<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ankiserver.py debug</span><br></pre></td></tr></table></figure></p><h2 id="2-Anki桌面版设定"><a href="#2-Anki桌面版设定" class="headerlink" title="2. Anki桌面版设定"></a>2. Anki桌面版设定</h2><p>工具——插件——打开插件文件夹。新建一个文件，命名为mysyncserver.py。<br>文件内容如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">import anki.sync</span><br><span class="line">anki.sync.SYNC_BASE = &apos;http://192.168.0.100:27701/&apos;</span><br><span class="line">anki.sync.SYNC_MEDIA_BASE = &apos;http://192.168.0.100:27701/msync/&apos;</span><br></pre></td></tr></table></figure></p><p>IP地址自行修改为服务器IP</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Hexo搭建Blog</title>
      <link href="/2019/04/12/Linux/Hexo%E6%90%AD%E5%BB%BABlog/"/>
      <url>/2019/04/12/Linux/Hexo%E6%90%AD%E5%BB%BABlog/</url>
      
        <content type="html"><![CDATA[<h1 id="Hexo搭建Blog"><a href="#Hexo搭建Blog" class="headerlink" title="Hexo搭建Blog"></a>Hexo搭建Blog</h1><h2 id="安装前准备"><a href="#安装前准备" class="headerlink" title="安装前准备"></a>安装前准备</h2><p>Hexo安装前需要确保有: <strong>Node.js</strong> <strong>Git</strong><br>去Node.js<a href="https://nodejs.org/download/" target="_blank" rel="noopener">官网</a>下载源码。<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">./configure</span><br><span class="line">make</span><br><span class="line">sudo make install</span><br></pre></td></tr></table></figure></p><p>可以使用<code>node -v</code>检查是否安装成功。</p><h2 id="开始安装"><a href="#开始安装" class="headerlink" title="开始安装"></a>开始安装</h2><p>Node.js安装完成后即可安装Hexo<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g hexo-cli</span><br></pre></td></tr></table></figure></p><h2 id="Hexo初始化"><a href="#Hexo初始化" class="headerlink" title="Hexo初始化"></a>Hexo初始化</h2><p>Hexo安装完成后初始化本地文件<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hexo init &lt;blog_folder&gt;</span><br><span class="line">cd &lt;blog_folder&gt;</span><br><span class="line">npm install</span><br></pre></td></tr></table></figure></p><p>完成后进入修改_config.yml文件，具体<a href="https://hexo.io/docs/configuration.html" target="_blank" rel="noopener">配置</a>可以去Hexo官网查询。<br>Hexo主题可以从<a href="https://hexo.io/themes/" target="_blank" rel="noopener">官网</a>下载，解压后复制到themes文件夹，配置中修改即可。</p><h2 id="使用Hexo新建博客文章"><a href="#使用Hexo新建博客文章" class="headerlink" title="使用Hexo新建博客文章"></a>使用Hexo新建博客文章</h2><ol><li><p>新建文章</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new &lt;title&gt;</span><br></pre></td></tr></table></figure><p>新建博客文章，相应的markdown文件在source/_posts文件夹中，修改即可。</p></li><li><p>生成网站</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo generate</span><br></pre></td></tr></table></figure><p>生成静态网站，整站在public文件夹下面。</p></li><li><p>网站预览</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo server -p 80</span><br></pre></td></tr></table></figure><p>可以预览生成的静态网站。</p></li></ol><h2 id="博客中插入图片"><a href="#博客中插入图片" class="headerlink" title="博客中插入图片"></a>博客中插入图片</h2><ol><li><p>编辑_config.yml<br>其中：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">post_asset_folder: true</span><br></pre></td></tr></table></figure><p>这样hexo会在每次使用<code>hexo new title</code>命令时在文章源文件目录下创建同名文件夹来存储资源。</p></li><li><p>在markdown文章里引用</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;% asset_path slug %&#125;</span><br><span class="line">&#123;% asset_img slug [title] %&#125;</span><br><span class="line">&#123;% asset_link slug [title] %&#125;</span><br></pre></td></tr></table></figure><p>例如:<br>本篇文章名叫what-is-LDAP，创建它时，会创建同名文件夹，把LDAP.png放在那个文件夹下。引用时写：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% asset_img LDAP.png DLAP organization %&#125;</span><br></pre></td></tr></table></figure><p>asset_img 表示要引用图片，LDAP.png是标题，后面的是图片显示的标题。</p></li></ol>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Linux启动seafile客户端</title>
      <link href="/2019/04/12/Linux/Linux%E5%90%AF%E5%8A%A8seafile%E5%AE%A2%E6%88%B7%E7%AB%AF/"/>
      <url>/2019/04/12/Linux/Linux%E5%90%AF%E5%8A%A8seafile%E5%AE%A2%E6%88%B7%E7%AB%AF/</url>
      
        <content type="html"><![CDATA[<h1 id="Linux启动seafile客户端"><a href="#Linux启动seafile客户端" class="headerlink" title="Linux启动seafile客户端"></a>Linux启动seafile客户端</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">seaf-cli sync -l a48f81b1-aa9f-4c7a-87c7-a8b1e4b74537 -s http://202.120.47.1:8000 -d /data/seafile/kuaipan -u dongbing900218@163.com -p dong71643612</span><br><span class="line">seaf-cli sync -l b7e61aea-39cc-4b5a-a3d6-32d017714e4d -s http://202.120.47.1:8000 -d /data/seafile/Pictures -u dongbing900218@163.com -p dong71643612</span><br><span class="line">seaf-cli start</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Linux制作GIF图片</title>
      <link href="/2019/04/12/Linux/Linux%E5%88%B6%E4%BD%9CGIF%E5%9B%BE%E7%89%87/"/>
      <url>/2019/04/12/Linux/Linux%E5%88%B6%E4%BD%9CGIF%E5%9B%BE%E7%89%87/</url>
      
        <content type="html"><![CDATA[<h1 id="Linux制作GIF图片"><a href="#Linux制作GIF图片" class="headerlink" title="Linux制作GIF图片"></a>Linux制作GIF图片</h1><h2 id="从JPG图片序列创建GIF动图"><a href="#从JPG图片序列创建GIF动图" class="headerlink" title="从JPG图片序列创建GIF动图"></a>从JPG图片序列创建GIF动图</h2><p>先将所有 JPG 图片放到同一文件夹，再在终端中执行如下命令即可：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">convert -delay 120 -loop 0 *.jpg linux.gif</span><br></pre></td></tr></table></figure></p><p>优化图片大小：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">convert linux.gif -fuzz 30% -layers Optimize output.gif</span><br></pre></td></tr></table></figure></p><p>附：批量裁剪图片</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">from PIL import Image, ImageDraw, ImageFont</span><br><span class="line">import os</span><br><span class="line"></span><br><span class="line">files = os.listdir(&quot;.&quot;)</span><br><span class="line"></span><br><span class="line">t = 0</span><br><span class="line">reg = (420,1,867,720)</span><br><span class="line"></span><br><span class="line">for f in files:</span><br><span class="line">    if &quot;jpg&quot; in f:</span><br><span class="line">        print(f)</span><br><span class="line">        im = Image.open(f)</span><br><span class="line">        im_size = im.size</span><br><span class="line">        region = im.crop(reg)</span><br><span class="line">        draw = ImageDraw.Draw(region)</span><br><span class="line">        ttfront = ImageFont.truetype(&quot;wqy-microhei.ttc&quot;,30)</span><br><span class="line">        t_str = &quot;%.3E&quot; % t</span><br><span class="line">        draw.text((25,633),&quot;t=&quot;+t_str+&quot;s&quot;,fill=(0,0,0),font=ttfront)</span><br><span class="line">        region.save(&quot;./crop/&quot;+f)</span><br><span class="line">        t += 0.000015</span><br></pre></td></tr></table></figure><p><a href="_v_attachments/20181220003953026_30521/crop.py">crop.py</a></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Nextcloud 扫描文件解决没有权限的问题</title>
      <link href="/2019/04/12/Linux/Nextcloud%20%E6%89%AB%E6%8F%8F%E6%96%87%E4%BB%B6%E8%A7%A3%E5%86%B3%E6%B2%A1%E6%9C%89%E6%9D%83%E9%99%90%E7%9A%84%E9%97%AE%E9%A2%98/"/>
      <url>/2019/04/12/Linux/Nextcloud%20%E6%89%AB%E6%8F%8F%E6%96%87%E4%BB%B6%E8%A7%A3%E5%86%B3%E6%B2%A1%E6%9C%89%E6%9D%83%E9%99%90%E7%9A%84%E9%97%AE%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<h1 id="Nextcloud-扫描文件解决没有权限的问题"><a href="#Nextcloud-扫描文件解决没有权限的问题" class="headerlink" title="Nextcloud 扫描文件解决没有权限的问题"></a>Nextcloud 扫描文件解决没有权限的问题</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd /var/www/nextcloud</span><br><span class="line">sudo -u www-data php occ files:scan --all</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>SSH端口转发情景模拟</title>
      <link href="/2019/04/12/Linux/SSH%E7%AB%AF%E5%8F%A3%E8%BD%AC%E5%8F%91%E6%83%85%E6%99%AF%E6%A8%A1%E6%8B%9F/"/>
      <url>/2019/04/12/Linux/SSH%E7%AB%AF%E5%8F%A3%E8%BD%AC%E5%8F%91%E6%83%85%E6%99%AF%E6%A8%A1%E6%8B%9F/</url>
      
        <content type="html"><![CDATA[<h1 id="SSH端口转发情景模拟"><a href="#SSH端口转发情景模拟" class="headerlink" title="SSH端口转发情景模拟"></a>SSH端口转发情景模拟</h1><p>SSH会自动加密和解密所有SSH客户端与服务端之间的网络数据。这一过程有时也被叫做“隧道”（Tunneling），这是因为SSH为其他TCP链接提供了一个安全的通道来进行传输而得名。例如，Telnet，SMTP，LDAP这些TCP应用均能够从中得益，避免了用户名，密码以及隐私信息的明文传输。而与此同时，如果您工作环境中的防火墙限制了一些网络端口的使用，但是允许SSH的连接，那么也能够通过将 TCP 端口转发来使用 SSH 进行通讯。</p><h2 id="1-概述"><a href="#1-概述" class="headerlink" title="1. 概述"></a>1. 概述</h2><p>SSH端口转发能够将其他TCP端口的网络数据通过SSH链接来转发，并且自动提供了相应的加密及解密服务。</p><h2 id="2-功能"><a href="#2-功能" class="headerlink" title="2. 功能"></a>2. 功能</h2><ul><li>加密SSH Client端至SSH Server端之间的通讯数据。</li><li>突破防火墙的限制完成一些之前无法建立的TCP连接。</li></ul><h2 id="3-方式"><a href="#3-方式" class="headerlink" title="3. 方式"></a>3. 方式</h2><p>共有四种方式，分别为本地转发，远程转发，动态转发，X协议转发</p><h3 id="3-1-本地端口转发"><a href="#3-1-本地端口转发" class="headerlink" title="3.1 本地端口转发"></a>3.1 本地端口转发</h3><p>SSH连接和应用的连接这两个连接的方向一致</p><p>ssh -L [&lt;localhost&gt;:] &lt;local port&gt;:&lt;remote host&gt;:&lt;remote port&gt; &lt;SSHhostname&gt;，Localhost参数可省略，默认为0.0.0.0，但为了安全性考虑务必使用127.0.0.1作为本地监听端口。</p><p>将本地机(客户机)的某个端口转发到远端指定机器的指定端口；本地端口转发是在localhost上监听一个端口，所有访问这个端口的数据都会通过ssh 隧道传输到远端的对应端口。</p><p>如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">localhost: ssh -L 7001:localhost:7070 sisca@216.194.70.6</span><br></pre></td></tr></table></figure></p><p>小结：本地端口转发的时候，本地的ssh在监听7001端口。</p><h3 id="3-2-远程端口转发"><a href="#3-2-远程端口转发" class="headerlink" title="3.2 远程端口转发"></a>3.2 远程端口转发</h3><p>SSH连接和应用的连接这两个连接的方向相反</p><p>ssh -R [&lt;localhost&gt;:]&lt;local port&gt;:&lt;remote host&gt;:&lt;remote port&gt;<br> &lt;SSHhostname&gt;，Localhost参数可省略，默认为0.0.0.0，为了安全性务必使用127.0.0.1作为本地监听端口。</p><p>将远程主机(服务器)的某个端口转发到本地端指定机器的指定端口；远程端口转发是在远程主机上监听一个端口，所有访问远程服务器的指定端口的数据都会通过ssh隧道传输到本地的对应端口。</p><p>如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">localhost: ssh -R 7001:localhost:7070 sisca@216.194.70.6</span><br></pre></td></tr></table></figure></p><p>小结：使用远程端口转发时，本地主机的端口监听并没有发生变化，相反远程主机却开始监听我们指定的7001端口。</p><h3 id="3-3-动态端口转发"><a href="#3-3-动态端口转发" class="headerlink" title="3.3 动态端口转发"></a>3.3 动态端口转发</h3><p>把远端ssh服务器当作了一个安全的代理服务器</p><p>ssh -D [&lt;localhost&gt;:]&lt;local port&gt; &lt;SSHhostname&gt;，Localhost参数可省略，默认为0.0.0.0，为了安全性务必使用127.0.0.1作为本地监听端口。</p><p>建立一个动态的SOCKS4/5的代理通道，紧接着的是本地监听的端口号；动态端口转发是建立一个ssh加密的SOCKS4/5代理通道，任何支持SOCKS4/5协议的程序都可以使用这个加密的通道来进行代理访问，现在这种方法最常用的地方就是翻墙。</p><p>如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">localhost: ssh -D 7070 sisca@216.194.70.6</span><br></pre></td></tr></table></figure></p><p>小结：使用动态端口转发时，本地主机的ssh进程在监听指定的7070端口。</p><h2 id="4-场景模拟"><a href="#4-场景模拟" class="headerlink" title="4. 场景模拟"></a>4. 场景模拟</h2><ul><li>场景一:将本机的80端口转发到174.139.9.66的8080端口<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh  -C –f –g –N –L 80:174.139.9.66:8080master@174.139.9.66</span><br></pre></td></tr></table></figure></li></ul><p>接着会提示输入master的密码，或使用-pw参数完成</p><ul><li>场景二：一次同时映射多个端口<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh -L 8888: www.host.com:80 -L 110:www.host.com:110 -L    25:www.host.com:25 user@host</span><br></pre></td></tr></table></figure></li></ul><p>同时把服务器（ <a href="http://www.host.com）的80，110，25端口映射到本机的8888，110和25端口" target="_blank" rel="noopener">www.host.com）的80，110，25端口映射到本机的8888，110和25端口</a></p><ul><li>场景三：A内网主机能放问公网的123.123.123.123的22端口，但是不能访问公网234.234.234.234的21端口，但是这两台公网主机能互访。</li></ul><p>A主机：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">ssh -CNfg –L 2121:234.234.234.234:21 –pw abc123 user@123.123.123.123</span><br><span class="line">``` </span><br><span class="line">然后A主机：ftp://localhost:2121</span><br><span class="line"></span><br><span class="line">前提是获取123.123.123.123的22端口账号口令（普通和root口令均可以，区别是转发的端口问题）</span><br><span class="line"></span><br><span class="line">* 场景四：A内网主机能放问公网的123.123.123.123的22端口，但是公网B主机123.123.123.123不能访问内网的A主机。</span><br><span class="line"></span><br><span class="line">A主机：</span><br></pre></td></tr></table></figure></p><p>ssh -CNfg –R 2222:127.0.0.1:22 –pw abc123 <a href="mailto:user@123.123.123.123" target="_blank" rel="noopener">user@123.123.123.123</a><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">B主机：</span><br></pre></td></tr></table></figure></p><p>ssh 127.0.0.1 –p 2222<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">前提是B主机开放22端口，账号口令（自建ssh服务器，或用肉鸡），灰鸽子木马用的也是反向链接，Destination (LAN_ip) &lt;- |NAT| &lt;- Source (home_ip)</span><br><span class="line"></span><br><span class="line">* 场景五：A内网主机只能访问公网的123.123.123.123，但是A如果想访问公网的很多资源。</span><br><span class="line"></span><br><span class="line">A主机：</span><br></pre></td></tr></table></figure></p><p>ssh -CNf –D 1080 –pw abc123 <a href="mailto:user@123.123.123.123" target="_blank" rel="noopener">user@123.123.123.123</a><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">A主机浏览器socks 5 proxy设置为localhost:8888，所有之前无法访问的网站现在都可以访问。</span><br><span class="line"></span><br><span class="line">* 场景六：A内网主机开了http、ftp、vnc（5901）、sshd、socks5（1080）、cvs（2401）等服务，无合法ip 地址；外网主机B（123.123.123.123），开了sshd 服务，有合法 ip ；我们的目的是让 internet 上的任何主机能访问A上的各种服务。</span><br><span class="line"></span><br><span class="line">B主机：</span><br><span class="line">sshd服务端做点小小的设置：`vi /etc/ssh/sshd.config`加入`GatewayPorts yes`，然后重启sshd服务：`/etc/init.d/ssh restart`或 `/etc/init.d/sshd restart`或使用-g参数</span><br><span class="line"></span><br><span class="line">A主机：</span><br></pre></td></tr></table></figure></p><p>ssh -CNf –R21:127.0.0.1:21 –pw abc123 <a href="mailto:user@123.123.123.123" target="_blank" rel="noopener">user@123.123.123.123</a><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">公网其它主机：ftp://123.123.123.123:21</span><br><span class="line"></span><br><span class="line">* 场景七：A内网主机开了http、ftp、vnc（5901）、sshd、socks5（1080）、cvs（2401）等服务，无合法ip 地址；外网主机 B(123.123.123.123) 开了sshd 服务，有合法ip；我们的目的是让 internet 上的任何主机能访问 A 上的各种服务。</span><br><span class="line"></span><br><span class="line">A主机：</span><br></pre></td></tr></table></figure></p><p>ssh -CN –R1234:127.0.0.1:80 –pw abc123 <a href="mailto:user@123.123.123.123" target="_blank" rel="noopener">user@123.123.123.123</a><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">B主机：</span><br></pre></td></tr></table></figure></p><p>socattcp-listen:80,reuseaddr,fork tcp:localhost:1234<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">公网其它主机： http://123.123.123.123:80 ，此时就是访问内网主机的80端口</span><br><span class="line"></span><br><span class="line">* **场景八：ssh代理**</span><br><span class="line">远程主机执行：</span><br></pre></td></tr></table></figure></p><p>ssh -CfNg -D 127.0.0.1:7000 -p port username@hostname<br><code>`</code></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Oh my zsh 配置</title>
      <link href="/2019/04/12/Linux/Oh%20my%20zsh%20%E9%85%8D%E7%BD%AE/"/>
      <url>/2019/04/12/Linux/Oh%20my%20zsh%20%E9%85%8D%E7%BD%AE/</url>
      
        <content type="html"><![CDATA[<h1 id="Oh-my-zsh-配置"><a href="#Oh-my-zsh-配置" class="headerlink" title="Oh my zsh 配置"></a>Oh my zsh 配置</h1><h2 id="安装-powerline"><a href="#安装-powerline" class="headerlink" title="安装 powerline"></a>安装 powerline</h2><p>在终端里面输入：<br><code>pip install powerline-status</code><br>安装完成。</p><h2 id="安装-powerline-fonts"><a href="#安装-powerline-fonts" class="headerlink" title="安装 powerline fonts"></a>安装 powerline fonts</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># clone</span><br><span class="line">git clone https://github.com/powerline/fonts.git</span><br><span class="line"># install</span><br><span class="line">cd fonts</span><br><span class="line">./install.sh</span><br><span class="line"># clean-up a bit</span><br><span class="line">cd ..</span><br><span class="line">rm -rf fonts</span><br></pre></td></tr></table></figure><h2 id="安装-agnoster-主题"><a href="#安装-agnoster-主题" class="headerlink" title="安装 agnoster 主题"></a>安装 agnoster 主题</h2><ol><li>在终端中输入：<br><code>git clone https://github.com/fcamblor/oh-my-zsh-agnoster-fcamblor.git</code></li><li>然后到目录里面运行install文件，就可以主题安装到~/.oh-my-zsh/themes目录下 。</li><li>切换到用户根目录，打开.zshrc文件，然后将ZSH_THEME后面的字段改为agnoster即可。像这样ZSH_THEME=”agnoster”。</li></ol><h2 id="安装-antigen"><a href="#安装-antigen" class="headerlink" title="安装 antigen"></a>安装 antigen</h2><ol><li>在终端中输入：<br><code>git clone https://github.com/zsh-users/antigen.git</code></li><li>修改家目录下面的.zshrc文件<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">source /path-to-antigen-clone/antigen.zsh</span><br><span class="line"># Load the oh-my-zsh&apos;s library.</span><br><span class="line">antigen use oh-my-zsh</span><br><span class="line"># Bundles from the default repo (robbyrussell&apos;s oh-my-zsh).</span><br><span class="line">antigen bundle git</span><br><span class="line">antigen bundle heroku</span><br><span class="line">antigen bundle pip</span><br><span class="line">antigen bundle lein</span><br><span class="line">antigen bundle command-not-found</span><br><span class="line"># Syntax highlighting bundle.</span><br><span class="line">antigen bundle zsh-users/zsh-syntax-highlighting</span><br><span class="line"># Load the theme.</span><br><span class="line">antigen theme robbyrussell</span><br><span class="line"># Tell Antigen that you&apos;re done.</span><br><span class="line">antigen apply</span><br></pre></td></tr></table></figure></li></ol>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Seafile备份恢复后排坑</title>
      <link href="/2019/04/12/Linux/Seafile%E5%A4%87%E4%BB%BD%E6%81%A2%E5%A4%8D%E5%90%8E%E6%8E%92%E5%9D%91/"/>
      <url>/2019/04/12/Linux/Seafile%E5%A4%87%E4%BB%BD%E6%81%A2%E5%A4%8D%E5%90%8E%E6%8E%92%E5%9D%91/</url>
      
        <content type="html"><![CDATA[<h1 id="Seafile备份恢复后排坑"><a href="#Seafile备份恢复后排坑" class="headerlink" title="Seafile备份恢复后排坑"></a>Seafile备份恢复后排坑</h1><h2 id="1-数据库恢复后记得flush-privileges"><a href="#1-数据库恢复后记得flush-privileges" class="headerlink" title="1 数据库恢复后记得flush privileges;"></a>1 数据库恢复后记得flush privileges;</h2><h2 id="2-配置seafile-data的位置在ccnet-seafile-ini文件中"><a href="#2-配置seafile-data的位置在ccnet-seafile-ini文件中" class="headerlink" title="2 配置seafile-data的位置在ccnet/seafile.ini文件中"></a>2 配置seafile-data的位置在ccnet/seafile.ini文件中</h2><h2 id="3-seahub-sh-start-fastcg-可以看到报错的原因，安装相应的库即可"><a href="#3-seahub-sh-start-fastcg-可以看到报错的原因，安装相应的库即可" class="headerlink" title="3 ./seahub.sh start-fastcg 可以看到报错的原因，安装相应的库即可"></a>3 ./seahub.sh start-fastcg 可以看到报错的原因，安装相应的库即可</h2>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Ping of death攻击</title>
      <link href="/2019/04/12/Linux/Ping%20of%20death%E6%94%BB%E5%87%BB/"/>
      <url>/2019/04/12/Linux/Ping%20of%20death%E6%94%BB%E5%87%BB/</url>
      
        <content type="html"><![CDATA[<h1 id="Ping-of-death攻击"><a href="#Ping-of-death攻击" class="headerlink" title="Ping of death攻击"></a>Ping of death攻击</h1><h2 id="1-安装hping"><a href="#1-安装hping" class="headerlink" title="1. 安装hping"></a>1. 安装hping</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install hping3</span><br></pre></td></tr></table></figure><h2 id="2-Flood-ping-攻击"><a href="#2-Flood-ping-攻击" class="headerlink" title="2. Flood ping 攻击"></a>2. Flood ping 攻击</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo hping3 192.168.13.1 -1 -d 66000 -c 1 --flood</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>安装配置OpenVPN服务器</title>
      <link href="/2019/04/12/Linux/%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AEOpenVPN%E6%9C%8D%E5%8A%A1%E5%99%A8/"/>
      <url>/2019/04/12/Linux/%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AEOpenVPN%E6%9C%8D%E5%8A%A1%E5%99%A8/</url>
      
        <content type="html"><![CDATA[<h1 id="安装配置OpenVPN服务器"><a href="#安装配置OpenVPN服务器" class="headerlink" title="安装配置OpenVPN服务器"></a>安装配置OpenVPN服务器</h1><h2 id="1-安装openvpn和easy-rsa"><a href="#1-安装openvpn和easy-rsa" class="headerlink" title="1. 安装openvpn和easy-rsa"></a>1. 安装openvpn和easy-rsa</h2><h2 id="2-配置openvpn和easy-rsa"><a href="#2-配置openvpn和easy-rsa" class="headerlink" title="2. 配置openvpn和easy-rsa"></a>2. 配置openvpn和easy-rsa</h2><p>首先修改<code>/usr/share/easy-rsa/2.0/vars</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">export KEY_COUNTRY=&quot;CN&quot;</span><br><span class="line">export KEY_PROVINCE=&quot;SH&quot;</span><br><span class="line">export KEY_CITY=&quot;Shanghai&quot;</span><br><span class="line">export KEY_ORG=&quot;SJTU&quot;</span><br><span class="line">export KEY_EMAIL=&quot;dongbing@sjtu.edu.cn&quot;</span><br><span class="line">export KEY_OU=&quot;SJTU&quot;</span><br></pre></td></tr></table></figure><p>初始化环境变量：<code>source vars</code><br>之后按照如下步骤进行：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"># 清除keys目录下所有与证书相关的文件</span><br><span class="line"># 下面步骤生成的证书和密钥都在/usr/share/easy-rsa/2.0/keys目录里</span><br><span class="line">./clean-all</span><br><span class="line"> </span><br><span class="line"># 生成根证书ca.crt和根密钥ca.key（一路按回车即可）</span><br><span class="line">./build-ca</span><br><span class="line"> </span><br><span class="line"># 为服务端生成证书和密钥（一路按回车，直到提示需要输入y/n时，输入y再按回车，一共两次）</span><br><span class="line">./build-key-server server</span><br><span class="line"> </span><br><span class="line"># 每一个登陆的VPN客户端需要有一个证书，每个证书在同一时刻只能供一个客户端连接，下面建立2份</span><br><span class="line"># 为客户端生成证书和密钥（一路按回车，直到提示需要输入y/n时，输入y再按回车，一共两次）</span><br><span class="line">./build-key client1</span><br><span class="line">./build-key client2</span><br><span class="line"> </span><br><span class="line"># 创建迪菲·赫尔曼密钥，会生成dh2048.pem文件（生成过程比较慢，在此期间不要去中断它）</span><br><span class="line">./build-dh</span><br><span class="line"> </span><br><span class="line"># 生成ta.key文件（防DDos攻击、UDP淹没等恶意攻击）</span><br><span class="line">openvpn --genkey --secret keys/ta.key</span><br><span class="line"># 在openvpn的配置目录下新建一个keys目录</span><br><span class="line">mkdir /etc/openvpn/keys</span><br><span class="line"> </span><br><span class="line"># 将需要用到的openvpn证书和密钥复制一份到刚创建好的keys目录中</span><br><span class="line">cp /usr/share/easy-rsa/2.0/keys/&#123;ca.crt,server.&#123;crt,key&#125;,dh2048.pem,ta.key&#125; /etc/openvpn/keys/</span><br><span class="line"> </span><br><span class="line"># 复制一份服务器端配置文件模板server.conf到/etc/openvpn/</span><br><span class="line">cp /usr/share/doc/openvpn/sample/sample-config-files/server.conf /etc/openvpn/</span><br><span class="line"># 编辑server.conf</span><br><span class="line">vim /etc/openvpn/server.conf</span><br></pre></td></tr></table></figure><p>OpenVPN的服务器端配置如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">port 1194</span><br><span class="line"># 改成tcp，默认使用udp，如果使用HTTP Proxy，必须使用tcp协议</span><br><span class="line">proto tcp</span><br><span class="line">dev tun</span><br><span class="line"># 路径前面加keys，全路径为/etc/openvpn/keys/ca.crt</span><br><span class="line">ca keys/ca.crt</span><br><span class="line">cert keys/server.crt</span><br><span class="line">key keys/server.key  # This file should be kept secret</span><br><span class="line">dh keys/dh2048.pem</span><br><span class="line"># 默认虚拟局域网网段，不要和实际的局域网冲突即可</span><br><span class="line">server 10.8.0.0 255.255.255.0</span><br><span class="line">ifconfig-pool-persist ipp.txt</span><br><span class="line"># 10.0.0.0/8是我这台VPN服务器所在的内网的网段，读者应该根据自身实际情况进行修改</span><br><span class="line">push &quot;route 10.0.0.0 255.0.0.0&quot;</span><br><span class="line"># 转发所有流量</span><br><span class="line">push &quot;redirect-gateway def1 bypass-dhcp&quot;</span><br><span class="line"># 可以让客户端之间相互访问直接通过openvpn程序转发，根据需要设置</span><br><span class="line">client-to-client</span><br><span class="line"># 如果客户端都使用相同的证书和密钥连接VPN，一定要打开这个选项，否则每个证书只允许一个人连接VPN</span><br><span class="line">duplicate-cn</span><br><span class="line">keepalive 10 120</span><br><span class="line">tls-auth keys/ta.key 0 # This file is secret</span><br><span class="line">comp-lzo</span><br><span class="line">persist-key</span><br><span class="line">persist-tun</span><br><span class="line"># OpenVPN的状态日志，默认为/etc/openvpn/openvpn-status.log</span><br><span class="line">status openvpn-status.log</span><br><span class="line"># OpenVPN的运行日志，默认为/etc/openvpn/openvpn.log </span><br><span class="line">log-append openvpn.log</span><br><span class="line"># 改成verb 5可以多查看一些调试信息</span><br><span class="line">verb 5</span><br></pre></td></tr></table></figure><p>修改<code>/etc/sysctl.conf</code>，开启路由转发：<code>net.ipv4.ip_forword=1</code>，执行<code>sysctl -p</code>生效。</p><h2 id="3-创建客户端配置文件"><a href="#3-创建客户端配置文件" class="headerlink" title="3. 创建客户端配置文件"></a>3. 创建客户端配置文件</h2><p>复制一份client.conf模板命名为client.ovpn</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cp /usr/share/doc/openvpn/sample/sample-config-files/client.conf client.ovpn</span><br></pre></td></tr></table></figure><p>编辑client.ovpn</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">client</span><br><span class="line">dev tun</span><br><span class="line"># 改为tcp</span><br><span class="line">proto tcp</span><br><span class="line"># OpenVPN服务器的外网IP和端口</span><br><span class="line">remote 203.195.xxx.xxx 1194</span><br><span class="line">resolv-retry infinite</span><br><span class="line">nobind</span><br><span class="line">persist-key</span><br><span class="line">persist-tun</span><br><span class="line">ca ca.crt</span><br><span class="line"># client1的证书</span><br><span class="line">cert client1.crt</span><br><span class="line"># client1的密钥</span><br><span class="line">key client1.key</span><br><span class="line">ns-cert-type server</span><br><span class="line"># 去掉前面的注释</span><br><span class="line">tls-auth ta.key 1</span><br><span class="line">comp-lzo</span><br><span class="line">verb 3</span><br></pre></td></tr></table></figure><p>最后将OpenVPN服务器上的client.ovpn、ca.crt、client.crt、client.key、ta.key上传到客户端安装目录下的config文件夹</p><h2 id="4-修改iptables"><a href="#4-修改iptables" class="headerlink" title="4. 修改iptables"></a>4. 修改iptables</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">iptables-restore &lt; iptables_backup</span><br></pre></td></tr></table></figure><p>iptables_back文件内容如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">*nat</span><br><span class="line">:PREROUTING ACCEPT [5:341]</span><br><span class="line">:POSTROUTING ACCEPT [2:1144]</span><br><span class="line">:OUTPUT ACCEPT [2:1144]</span><br><span class="line">-A POSTROUTING -s 10.8.0.0/24 -o enp2s0 -j MASQUERADE </span><br><span class="line">COMMIT</span><br><span class="line">*filter</span><br><span class="line">:INPUT ACCEPT [134:8536]</span><br><span class="line">:FORWARD ACCEPT [0:0]</span><br><span class="line">:OUTPUT ACCEPT [176:128044]</span><br><span class="line">-A INPUT -p tcp -m tcp --dport 1194 -m comment --comment &quot;openvpn&quot; -j ACCEPT </span><br><span class="line">COMMIT</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Solve “Word too long” error</title>
      <link href="/2019/04/12/Linux/Solve%20%E2%80%9CWord%20too%20long%E2%80%9D%20error/"/>
      <url>/2019/04/12/Linux/Solve%20%E2%80%9CWord%20too%20long%E2%80%9D%20error/</url>
      
        <content type="html"><![CDATA[<h1 id="Solve-“Word-too-long”-error"><a href="#Solve-“Word-too-long”-error" class="headerlink" title="Solve “Word too long” error"></a>Solve “Word too long” error</h1><h2 id="Step-1"><a href="#Step-1" class="headerlink" title="Step 1:"></a>Step 1:</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install tcsh</span><br></pre></td></tr></table></figure><h2 id="Step-2"><a href="#Step-2" class="headerlink" title="Step 2:"></a>Step 2:</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo update-alternatives --config csh</span><br></pre></td></tr></table></figure><p>Select tcsh from the list of choices available.</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>V2ray 服务器配置文件</title>
      <link href="/2019/04/12/Linux/V2ray%20%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6/"/>
      <url>/2019/04/12/Linux/V2ray%20%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6/</url>
      
        <content type="html"><![CDATA[<h1 id="V2ray-服务器配置文件"><a href="#V2ray-服务器配置文件" class="headerlink" title="V2ray 服务器配置文件"></a>V2ray 服务器配置文件</h1><h2 id="服务器配置文件路径"><a href="#服务器配置文件路径" class="headerlink" title="服务器配置文件路径"></a>服务器配置文件路径</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/etc/v2ray/config.json</span><br></pre></td></tr></table></figure><h2 id="配置文件内容"><a href="#配置文件内容" class="headerlink" title="配置文件内容"></a>配置文件内容</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;log&quot; : &#123;</span><br><span class="line">    &quot;access&quot;: &quot;/var/log/v2ray/access.log&quot;,</span><br><span class="line">    &quot;error&quot;: &quot;/var/log/v2ray/error.log&quot;,</span><br><span class="line">    &quot;loglevel&quot;: &quot;warning&quot;</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;inbound&quot;: &#123;</span><br><span class="line">    &quot;port&quot;: 10010,</span><br><span class="line">    &quot;protocol&quot;: &quot;vmess&quot;,</span><br><span class="line">    &quot;settings&quot;: &#123;</span><br><span class="line">      &quot;clients&quot;: [</span><br><span class="line">        &#123;</span><br><span class="line">          &quot;id&quot;: &quot;8e540d28-3887-49a7-8fda-d7c7554dc8bc&quot;,</span><br><span class="line">          &quot;level&quot;: 1,</span><br><span class="line">          &quot;alterId&quot;: 64</span><br><span class="line">        &#125;</span><br><span class="line">      ]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;inboundDetour&quot;:[</span><br><span class="line">  &#123;</span><br><span class="line">    &quot;port&quot;: 1111,</span><br><span class="line">    &quot;protocol&quot;: &quot;shadowsocks&quot;,</span><br><span class="line">    &quot;settings&quot;:&#123;</span><br><span class="line">      &quot;method&quot;: &quot;aes-256-cfb&quot;,</span><br><span class="line">      &quot;password&quot;: &quot;*#950LnPvS#*&quot;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  ],</span><br><span class="line">  &quot;outbound&quot;: &#123;</span><br><span class="line">    &quot;protocol&quot;: &quot;freedom&quot;,</span><br><span class="line">    &quot;settings&quot;: &#123;&#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;outboundDetour&quot;: [</span><br><span class="line">    &#123;</span><br><span class="line">      &quot;protocol&quot;: &quot;blackhole&quot;,</span><br><span class="line">      &quot;settings&quot;: &#123;&#125;,</span><br><span class="line">      &quot;tag&quot;: &quot;blocked&quot;</span><br><span class="line">    &#125;</span><br><span class="line">  ],</span><br><span class="line">  &quot;routing&quot;: &#123;</span><br><span class="line">    &quot;strategy&quot;: &quot;rules&quot;,</span><br><span class="line">    &quot;settings&quot;: &#123;</span><br><span class="line">      &quot;rules&quot;: [</span><br><span class="line">        &#123;</span><br><span class="line">          &quot;type&quot;: &quot;field&quot;,</span><br><span class="line">          &quot;ip&quot;: [&quot;geoip:private&quot;],</span><br><span class="line">          &quot;outboundTag&quot;: &quot;blocked&quot;</span><br><span class="line">        &#125;</span><br><span class="line">      ]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>监视服务器中指定名称的进程并用邮件发送</title>
      <link href="/2019/04/12/Linux/%E7%9B%91%E8%A7%86%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%AD%E6%8C%87%E5%AE%9A%E5%90%8D%E7%A7%B0%E7%9A%84%E8%BF%9B%E7%A8%8B%E5%B9%B6%E7%94%A8%E9%82%AE%E4%BB%B6%E5%8F%91%E9%80%81/"/>
      <url>/2019/04/12/Linux/%E7%9B%91%E8%A7%86%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%AD%E6%8C%87%E5%AE%9A%E5%90%8D%E7%A7%B0%E7%9A%84%E8%BF%9B%E7%A8%8B%E5%B9%B6%E7%94%A8%E9%82%AE%E4%BB%B6%E5%8F%91%E9%80%81/</url>
      
        <content type="html"><![CDATA[<h1 id="监视服务器中指定名称的进程并用邮件发送"><a href="#监视服务器中指定名称的进程并用邮件发送" class="headerlink" title="监视服务器中指定名称的进程并用邮件发送"></a>监视服务器中指定名称的进程并用邮件发送</h1><h2 id="1-配置发送邮件"><a href="#1-配置发送邮件" class="headerlink" title="1. 配置发送邮件"></a>1. 配置发送邮件</h2><p>修改<code>/etc/mail.rc</code>文件，增加内容如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">set from=xxx@qq.com</span><br><span class="line">set smtp=smtp.qq.com</span><br><span class="line">set smtp-auth-user=xxx</span><br><span class="line">set smtp-auth-password=xxx</span><br><span class="line">set smtp-auth=login</span><br></pre></td></tr></table></figure><h2 id="2-编写shell脚本"><a href="#2-编写shell脚本" class="headerlink" title="2. 编写shell脚本"></a>2. 编写shell脚本</h2><p>如果发现有ansys进程开启，则发送主题为“Sugon”的邮件到<a href="mailto:cbd.cpq@outlook.com" target="_blank" rel="noopener">cbd.cpq@outlook.com</a>邮箱。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">#! /bin/bash</span><br><span class="line"></span><br><span class="line">ansys_proc=`ps -ef | grep ansys | grep -v grep`</span><br><span class="line">if [[ $ansys_proc != &quot;&quot; ]]</span><br><span class="line">then</span><br><span class="line">    echo -e $ansys_proc | mail -s &quot;Sugon&quot; cbd.cpq@outlook.com</span><br><span class="line">fi</span><br></pre></td></tr></table></figure><h2 id="3-添加定时任务"><a href="#3-添加定时任务" class="headerlink" title="3. 添加定时任务"></a>3. 添加定时任务</h2><p>每五分钟，检查一次。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">crontab -e</span><br><span class="line">*/5 * * * * /public/home/dongbing/monitoring_an.sh</span><br></pre></td></tr></table></figure><p>使用<code>crontab -l</code>查看当前用户的定时任务。</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>github绑定自己的域名</title>
      <link href="/2019/04/12/Linux/github%E7%BB%91%E5%AE%9A%E8%87%AA%E5%B7%B1%E7%9A%84%E5%9F%9F%E5%90%8D/"/>
      <url>/2019/04/12/Linux/github%E7%BB%91%E5%AE%9A%E8%87%AA%E5%B7%B1%E7%9A%84%E5%9F%9F%E5%90%8D/</url>
      
        <content type="html"><![CDATA[<h1 id="github绑定自己的域名"><a href="#github绑定自己的域名" class="headerlink" title="github绑定自己的域名"></a>github绑定自己的域名</h1><h2 id="1-向你的-Github-Pages-仓库添加一个CNAME"><a href="#1-向你的-Github-Pages-仓库添加一个CNAME" class="headerlink" title="1. 向你的 Github Pages 仓库添加一个CNAME"></a>1. 向你的 Github Pages 仓库添加一个CNAME</h2><p>一定要<strong>大写</strong>文件其中只能包含一个顶级域名，像这样：example.com。<br>如果你是用hexo框架搭建博客并部署到Github Pages上，每次<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; hexo g</span><br><span class="line">&gt; hexo d</span><br></pre></td></tr></table></figure></p><p>后会把你的博客所在目录下public文件夹里的东西都推到Github Pages仓库上，并且把CNAME文件覆盖掉，解决这个问题可以直接把CNAME文件添加到source文件夹里，这样每次推的时候就不用担心仓库里的CNAME文件被覆盖掉了。</p><h2 id="2-向你的-DNS-配置中添加3条记录"><a href="#2-向你的-DNS-配置中添加3条记录" class="headerlink" title="2. 向你的 DNS 配置中添加3条记录"></a>2. 向你的 DNS 配置中添加3条记录</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">@          A             192.30.252.153</span><br><span class="line">@          A             192.30.252.154</span><br><span class="line">www      CNAME           username.github.io</span><br></pre></td></tr></table></figure><p>用你自己的Github用户名替换username推荐使用DNSPOD的服务，使用国外的DNS解析服务可能有被墙的风险。</p><h2 id="3-等待你的-DNS-配置生效"><a href="#3-等待你的-DNS-配置生效" class="headerlink" title="3. 等待你的 DNS 配置生效"></a>3. 等待你的 DNS 配置生效</h2><p>对DNS的配置不是立即生效的，过10分钟再去访问你的域名看看有没有配置成功。</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>搭建piwigo服务器</title>
      <link href="/2019/04/12/Linux/%E6%90%AD%E5%BB%BApiwigo%E6%9C%8D%E5%8A%A1%E5%99%A8/"/>
      <url>/2019/04/12/Linux/%E6%90%AD%E5%BB%BApiwigo%E6%9C%8D%E5%8A%A1%E5%99%A8/</url>
      
        <content type="html"><![CDATA[<h1 id="搭建piwigo服务器"><a href="#搭建piwigo服务器" class="headerlink" title="搭建piwigo服务器"></a>搭建piwigo服务器</h1><h2 id="1-下载安装包"><a href="#1-下载安装包" class="headerlink" title="1. 下载安装包"></a>1. 下载安装包</h2><p>从官网下载最新的安装包：<code>http://piwigo.org/basics/downloads</code></p><h2 id="2-安装php环境"><a href="#2-安装php环境" class="headerlink" title="2. 安装php环境"></a>2. 安装php环境</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install mysql-server</span><br><span class="line">mysql_secure_installation</span><br><span class="line">sudo apt-get install apache2</span><br><span class="line">sudo apt-get install php7.0</span><br><span class="line">sudo apt-get install phpmyadmin php-mbstring php-gettext</span><br><span class="line">sudo phpenmod mcrypt</span><br><span class="line">sudo phpenmod mbstring</span><br></pre></td></tr></table></figure><h2 id="3-配置piwigo"><a href="#3-配置piwigo" class="headerlink" title="3. 配置piwigo"></a>3. 配置piwigo</h2><p>将piwigo复制到<code>/var/www/html</code>文件夹下面，用户和组更改为：<code>www-data</code>。piwigo文件夹内<code>_data</code>的权限修改为777。</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>dd备份恢复系统</title>
      <link href="/2019/04/12/Linux/dd%E5%A4%87%E4%BB%BD%E6%81%A2%E5%A4%8D%E7%B3%BB%E7%BB%9F/"/>
      <url>/2019/04/12/Linux/dd%E5%A4%87%E4%BB%BD%E6%81%A2%E5%A4%8D%E7%B3%BB%E7%BB%9F/</url>
      
        <content type="html"><![CDATA[<h1 id="dd备份恢复系统"><a href="#dd备份恢复系统" class="headerlink" title="dd备份恢复系统"></a>dd备份恢复系统</h1><h2 id="1-备份"><a href="#1-备份" class="headerlink" title="1. 备份"></a>1. 备份</h2><p>用liveCD开机，<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dd if=/dev/sda1 of=sda1.img.bak bs=4M</span><br></pre></td></tr></table></figure></p><h2 id="2-还原"><a href="#2-还原" class="headerlink" title="2. 还原"></a>2. 还原</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">dd if=sda1.img.bak of=/dev/sda1</span><br><span class="line">e2fsck -f /dev/sda1</span><br><span class="line">resize2fs /dev/sda1</span><br><span class="line">e2fsck -f /dev/sda1</span><br></pre></td></tr></table></figure><h2 id="3-dd中的压缩"><a href="#3-dd中的压缩" class="headerlink" title="3. dd中的压缩"></a>3. dd中的压缩</h2><p>dd对磁盘是极大的浪费，100G的硬盘只用1G，dd后的备份文件也是100G，这个可以通过压缩解决。</p><h3 id="备份："><a href="#备份：" class="headerlink" title="备份："></a>备份：</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dd if=/dev/sda1 | bzip2 &gt; sda1.img.bz2</span><br></pre></td></tr></table></figure><h3 id="远程备份："><a href="#远程备份：" class="headerlink" title="远程备份："></a>远程备份：</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh -p 9527 root@45.76.218.6 &quot;dd if=/dev/vda&quot; | bzip2 | dd of=vultr.img.bz2</span><br></pre></td></tr></table></figure><h3 id="还原："><a href="#还原：" class="headerlink" title="还原："></a>还原：</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">bzip2 -dc sda1.img.bz2 | dd of=/dev/sda1</span><br><span class="line">e2fsck -f /dev/sda1</span><br><span class="line">resize2fs /dev/sda1</span><br><span class="line">e2fsck -f /dev/sda1</span><br></pre></td></tr></table></figure><p><strong>注意如果是uefi启动，只对第二个分区e2fsck即可，第一个是EFI分区无需改动。</strong></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>编辑fstab自动挂载硬盘</title>
      <link href="/2019/04/12/Linux/%E7%BC%96%E8%BE%91fstab%E8%87%AA%E5%8A%A8%E6%8C%82%E8%BD%BD%E7%A1%AC%E7%9B%98/"/>
      <url>/2019/04/12/Linux/%E7%BC%96%E8%BE%91fstab%E8%87%AA%E5%8A%A8%E6%8C%82%E8%BD%BD%E7%A1%AC%E7%9B%98/</url>
      
        <content type="html"><![CDATA[<h1 id="编辑fstab自动挂载硬盘"><a href="#编辑fstab自动挂载硬盘" class="headerlink" title="编辑fstab自动挂载硬盘"></a>编辑fstab自动挂载硬盘</h1><h2 id="1-查看硬盘的UUID"><a href="#1-查看硬盘的UUID" class="headerlink" title="1. 查看硬盘的UUID"></a>1. 查看硬盘的UUID</h2><p>如果不使用UUID挂载，硬盘交换SATA口后可能会无法启动系统。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo blkid -o list</span><br></pre></td></tr></table></figure></p><h2 id="2-编辑fstab"><a href="#2-编辑fstab" class="headerlink" title="2. 编辑fstab"></a>2. 编辑fstab</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo vim /etc/fstab</span><br></pre></td></tr></table></figure><p>一个简单的<code>/etc/fstab</code>，使用内核名称标识磁盘如下所示:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># &lt;file system&gt;        &lt;dir&gt;         &lt;type&gt;    &lt;options&gt;             &lt;dump&gt; &lt;pass&gt;</span><br><span class="line">tmpfs                  /tmp          tmpfs     nodev,nosuid          0      0</span><br><span class="line">/dev/sda1              /             ext4      defaults,noatime      0      1</span><br><span class="line">/dev/sda2              none          swap      defaults              0      0</span><br><span class="line">/dev/sda3              /home         ext4      defaults,noatime      0      2</span><br></pre></td></tr></table></figure></p><p>其中一行应该包含如下字段：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;file system&gt;&lt;dir&gt;&lt;type&gt;&lt;options&gt;&lt;dump&gt;&lt;pass&gt;</span><br></pre></td></tr></table></figure></p><p><code>&lt;dump&gt;</code>dump工具通过它决定何时作备份。dump会检查其内容，并用数字来决定是否对这个文件系统进行备份。允许的数字是0和1。0表示忽略，1则进行备份。大部分的用户是没有安装dump的，对他们而言<code>&lt;dump&gt;</code>应设为0。</p><p><code>&lt;pass&gt;</code>fsck读取<code>&lt;pass&gt;</code>的数值来决定需要检查的文件系统的检查顺序。允许的数字是0,1和2。根目录应当获得最高的优先权1,其它所有需要被检查的设备设置为2。0表示设备不会被fsck所检查。</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>配置Torque</title>
      <link href="/2019/04/12/Linux/%E9%85%8D%E7%BD%AETorque/"/>
      <url>/2019/04/12/Linux/%E9%85%8D%E7%BD%AETorque/</url>
      
        <content type="html"><![CDATA[<h1 id="配置Torque"><a href="#配置Torque" class="headerlink" title="配置Torque"></a>配置Torque</h1><h2 id="1-下载Torque源码"><a href="#1-下载Torque源码" class="headerlink" title="1. 下载Torque源码"></a>1. 下载Torque源码</h2><p>去Torque<a href="http://www.adaptivecomputing.com/support/download-center/torque-download/" target="_blank" rel="noopener">官网</a>下载最新版本的源码。</p><h2 id="2-编译与安装"><a href="#2-编译与安装" class="headerlink" title="2. 编译与安装"></a>2. 编译与安装</h2><p><strong><em>configure -&gt; make -&gt; make install</em></strong><br>Torque默认安装在/var/spool/torque文件夹下面。</p><p>Ubuntu可以直接使用apt安装：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install torque-server</span><br></pre></td></tr></table></figure><h2 id="3-配置Torque"><a href="#3-配置Torque" class="headerlink" title="3. 配置Torque"></a>3. 配置Torque</h2><h3 id="3-1-配置节点名称"><a href="#3-1-配置节点名称" class="headerlink" title="3.1. 配置节点名称"></a>3.1. 配置节点名称</h3><p>在/etc/hosts中加入管理节点和计算节点的IP：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/hosts</span><br></pre></td></tr></table></figure><p>增加一行：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1 torqueserver calnode</span><br></pre></td></tr></table></figure><h3 id="3-2-配置pbs-server"><a href="#3-2-配置pbs-server" class="headerlink" title="3.2. 配置pbs_server"></a>3.2. 配置pbs_server</h3><p>初始化pbs_server：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pbs_server -t create</span><br></pre></td></tr></table></figure><p>在Ubuntu中可以执行如下命令建立默认服务器和队列，并把自己列为管理员：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo bash /usr/share/doc/torque-common/torque.setup $USER torqueserver</span><br></pre></td></tr></table></figure><p>修改/var/spool/torque/server_name内容为：<code>torqueserver</code><br>修改/var/spool/torque/server_priv/nodes内容为：<code>calnode np=4</code><br>创建/var/spool/torque/mom_priv/config文件，内容为：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$pbsserver torqueserver</span><br><span class="line">$mom_host calnode</span><br></pre></td></tr></table></figure><p>启动trqauthd服务：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl start trqauthd.service</span><br></pre></td></tr></table></figure><p>重启pbs_mom，pbs_sched，pbs_server。</p><h3 id="3-3-设置pbs-server并创建默认队列"><a href="#3-3-设置pbs-server并创建默认队列" class="headerlink" title="3.3. 设置pbs_server并创建默认队列"></a>3.3. 设置pbs_server并创建默认队列</h3><p>执行<code>qmgr</code>进入管理界面。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">set server scheduling=True</span><br><span class="line">set server default_queue=batch</span><br><span class="line">set server scheduler_iteration=600</span><br><span class="line">set server node_check_rate=150</span><br><span class="line">set server tcp_timeout=6</span><br><span class="line">set server mom_job_sync=True</span><br><span class="line">set server keep_completed=1</span><br><span class="line">set server allow_node_submit=True</span><br><span class="line"></span><br><span class="line">create queue batch</span><br><span class="line">set queue batch queue_type=Execution</span><br><span class="line">set queue batch resources_default.nodes=4</span><br><span class="line">set queue batch resources_default.walltime=480:00:00</span><br><span class="line">set queue batch enabled=True</span><br><span class="line">set queue batch started=True</span><br></pre></td></tr></table></figure><p>附Sugon服务器batch队列配置：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">set queue batch queue_type=Execution</span><br><span class="line">set queue batch Priority=1</span><br><span class="line">set queue batch set queue batch max_user_queuable=3</span><br><span class="line">set queue batch resources_max.cput=1920:00:00</span><br><span class="line">set queue batch resources_max.nodes=1:ppn=080</span><br><span class="line">set queue batch resources_max.walltime=240:00:00</span><br><span class="line">set queue batch resources_min.nodes=1:ppn=021</span><br><span class="line">set queue batch resources_default.nodes=1:ppn=8</span><br><span class="line">set queue batch resources_default.walltime=240:00:00</span><br><span class="line">set queue batch resources_assigned.nodect=1</span><br><span class="line">set queue batch max_user_run=2</span><br><span class="line">set queue batch enabled=True</span><br><span class="line">set queue batch started=True</span><br></pre></td></tr></table></figure><p>#4. 一个典型的Fluent PBS脚本<br>一个典型的Fluent PBS脚本如下所示：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/bash</span><br><span class="line"></span><br><span class="line">#PBS -N DONGBING_FLUENT</span><br><span class="line">#PBS -q tiny</span><br><span class="line">#PBS -l nodes=1:ppn=16</span><br><span class="line">#PBS -j oe</span><br><span class="line"></span><br><span class="line">cd $PBS_O_WORKDIR</span><br><span class="line">NP=`wc -l &lt; $PBS_NODEFILE`</span><br><span class="line"></span><br><span class="line">/public/software/ansys_inc_172/v172/fluent/bin/fluent 3ddp -ssh -g -pdefault -t$NP -cnf=$PBS_NODEFILE  -i  script.jou &gt; log.txt</span><br></pre></td></tr></table></figure><p>其中script.jou是Fluent的TUI命令，如下所示：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">rc channel_mixture_heat_species.cas</span><br><span class="line">rd channel_mixture_heat_species.dat</span><br><span class="line"></span><br><span class="line">!pwd</span><br><span class="line"></span><br><span class="line">file/auto-save/root-name ./results/channel_hole_transient</span><br><span class="line">file/auto-save/append-file-name-with/flow-time 8</span><br><span class="line"></span><br><span class="line">file/auto-save/data-frequency 1</span><br><span class="line">solve/set/time-step 0.000001</span><br><span class="line">solve/set/max-iterations-per-time-step 200</span><br><span class="line">solve/dual-time-iterate 100 200</span><br><span class="line"></span><br><span class="line">file/auto-save/data-frequency 10</span><br><span class="line">solve/set/time-step 0.00001</span><br><span class="line">solve/set/max-iterations-per-time-step 200</span><br><span class="line">solve/dual-time-iterate 1000 200</span><br><span class="line"></span><br><span class="line">file/auto-save/data-frequency 10</span><br><span class="line">solve/set/time-step 0.0001</span><br><span class="line">solve/set/max-iterations-per-time-step 200</span><br><span class="line">solve/dual-time-iterate 1000 200</span><br><span class="line"></span><br><span class="line">!sh `ls | grep cleanup`</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>配置Samba</title>
      <link href="/2019/04/12/Linux/%E9%85%8D%E7%BD%AESamba/"/>
      <url>/2019/04/12/Linux/%E9%85%8D%E7%BD%AESamba/</url>
      
        <content type="html"><![CDATA[<h1 id="配置Samba"><a href="#配置Samba" class="headerlink" title="配置Samba"></a>配置Samba</h1><h2 id="1-安装Samba"><a href="#1-安装Samba" class="headerlink" title="1. 安装Samba"></a>1. 安装Samba</h2><h2 id="2-配置Smaba"><a href="#2-配置Smaba" class="headerlink" title="2. 配置Smaba"></a>2. 配置Smaba</h2><p>修改<code>/etc/samba/smb.conf</code>内容</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[public]</span><br><span class="line">path = /data</span><br><span class="line">browsable = yes</span><br><span class="line">writable = yes</span><br><span class="line">guest ok = yes</span><br><span class="line">read only = no</span><br></pre></td></tr></table></figure><p>注意配置<code>[Global]</code>中要有<code>usershare allow guests = Yes</code></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>配置rsync服务器远程同步</title>
      <link href="/2019/04/12/Linux/%E9%85%8D%E7%BD%AErsync%E6%9C%8D%E5%8A%A1%E5%99%A8%E8%BF%9C%E7%A8%8B%E5%90%8C%E6%AD%A5/"/>
      <url>/2019/04/12/Linux/%E9%85%8D%E7%BD%AErsync%E6%9C%8D%E5%8A%A1%E5%99%A8%E8%BF%9C%E7%A8%8B%E5%90%8C%E6%AD%A5/</url>
      
        <content type="html"><![CDATA[<h1 id="配置rsync服务器远程同步"><a href="#配置rsync服务器远程同步" class="headerlink" title="配置rsync服务器远程同步"></a>配置rsync服务器远程同步</h1><h2 id="1-配置rsyncd-conf"><a href="#1-配置rsyncd-conf" class="headerlink" title="1. 配置rsyncd.conf"></a>1. 配置rsyncd.conf</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo vim /etc/rsyncd.conf</span><br></pre></td></tr></table></figure><p>内容如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"># sample rsyncd.conf configuration file</span><br><span class="line"></span><br><span class="line"># GLOBAL OPTIONS</span><br><span class="line"></span><br><span class="line">#motd file=/etc/motd</span><br><span class="line">log file=/var/log/rsyncd</span><br><span class="line"># for pid file, do not use /var/run/rsync.pid if</span><br><span class="line"># you are going to run rsync out of the init.d script.</span><br><span class="line"># The init.d script does its own pid file handling,</span><br><span class="line"># so omit the &quot;pid file&quot; line completely in that case.</span><br><span class="line"># pid file=/var/run/rsyncd.pid</span><br><span class="line">#syslog facility=daemon</span><br><span class="line">#socket options=</span><br><span class="line"></span><br><span class="line"># MODULE OPTIONS</span><br><span class="line"></span><br><span class="line">[ftp]</span><br><span class="line"></span><br><span class="line">        comment = public archive</span><br><span class="line">        path = /var/www/pub</span><br><span class="line">        use chroot = yes</span><br><span class="line">#       max connections=10</span><br><span class="line">        lock file = /var/lock/rsyncd</span><br><span class="line"># the default for read only is yes...</span><br><span class="line">        read only = yes</span><br><span class="line">        list = yes</span><br><span class="line">        uid = nobody</span><br><span class="line">        gid = nogroup</span><br><span class="line">#       exclude = </span><br><span class="line">#       exclude from = </span><br><span class="line">#       include =</span><br><span class="line">#       include from =</span><br><span class="line">#       auth users = </span><br><span class="line">#       secrets file = /etc/rsyncd.secrets</span><br><span class="line">        strict modes = yes</span><br><span class="line">#       hosts allow =</span><br><span class="line">#       hosts deny =</span><br><span class="line">        ignore errors = no</span><br><span class="line">        ignore nonreadable = yes</span><br><span class="line">        transfer logging = no</span><br><span class="line">#       log format = %t: host %h (%a) %o %f (%l bytes). Total %b bytes.</span><br><span class="line">        timeout = 600</span><br><span class="line">        refuse options = checksum dry-run</span><br><span class="line">        dont compress = *.gz *.tgz *.zip *.z *.rpm *.deb *.iso *.bz2 *.tbz</span><br><span class="line">[leanote_backup]</span><br><span class="line">        comment = public archieve</span><br><span class="line">        path = /backup/leanote_backup</span><br><span class="line">        use chroot = no</span><br><span class="line">        lock file = /var/lock/rsyncd</span><br><span class="line">        read only = no</span><br><span class="line">        list = yes</span><br><span class="line">        uid = dongbing</span><br><span class="line">        gid = dongbing</span><br><span class="line">        auth users = dongbing</span><br><span class="line">        secrets file = /etc/rsyncd.secrets</span><br></pre></td></tr></table></figure><p>创建<code>/etc/rsyncd.secrets</code>密码文件，内容如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dongbing:dong71643612</span><br></pre></td></tr></table></figure><p><strong>权限改为600</strong></p><h2 id="2-启动rsync服务"><a href="#2-启动rsync服务" class="headerlink" title="2. 启动rsync服务"></a>2. 启动rsync服务</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl start rsync</span><br></pre></td></tr></table></figure><h2 id="3-同步文件"><a href="#3-同步文件" class="headerlink" title="3. 同步文件"></a>3. 同步文件</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rsync -avzu --progress leanote_backup/ rsync://dongbing@58.196.168.231/leanote_backup</span><br></pre></td></tr></table></figure><p>注意：<code>sudo rsync -avzu --progress /data /mnt/USB</code>会在<code>/mnt/USB</code>目录下面建立data文件夹；而<code>sudo rsync -avzu --progress /data/ /mnt/USB</code>会将<code>data</code>目录下面的内容复制到<code>/mnt/USB</code>下面。</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>HTML中插入数学公式</title>
      <link href="/2019/04/12/Markdown%20&amp;%20HTML/HTML%E4%B8%AD%E6%8F%92%E5%85%A5%E6%95%B0%E5%AD%A6%E5%85%AC%E5%BC%8F/"/>
      <url>/2019/04/12/Markdown%20&amp;%20HTML/HTML%E4%B8%AD%E6%8F%92%E5%85%A5%E6%95%B0%E5%AD%A6%E5%85%AC%E5%BC%8F/</url>
      
        <content type="html"><![CDATA[<h1 id="HTML中插入数学公式"><a href="#HTML中插入数学公式" class="headerlink" title="HTML中插入数学公式"></a>HTML中插入数学公式</h1><p>如果在网页中需要插入数学公式，可以使用MathJax实现。在html文件前端插入如下代码即可：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=&quot;text/javascript&quot; src=&quot;http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML&quot;&gt;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure></p><blockquote><p>MathJax是一个开源的基于Ajax的数学公式显示的解决方案，其最大的优势在于可以以基于文本的方式显示页面中的数学公式。结合多种先进的Web技术，支持几乎所有的主流浏览器。MathJax可以在HTML页面中，为LaTeX数据和MathML数学公式提供了一个切实可行的的解决方案，支持Tex和LaTex、MathML、ASCIIMathML语言，拥有丰富的API接口。根据页面中定义的LaTeX数据，便可生成对应的数学公式。</p></blockquote>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Jupyter-lab 使用 Matplotlib</title>
      <link href="/2019/04/12/Python/Jupyter-lab%20%E4%BD%BF%E7%94%A8%20Matplotlib/"/>
      <url>/2019/04/12/Python/Jupyter-lab%20%E4%BD%BF%E7%94%A8%20Matplotlib/</url>
      
        <content type="html"><![CDATA[<h1 id="Jupyter-lab-使用-Matplotlib"><a href="#Jupyter-lab-使用-Matplotlib" class="headerlink" title="Jupyter-lab 使用 Matplotlib"></a>Jupyter-lab 使用 Matplotlib</h1><p>需要安装NodeJS。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ pip install ipympl</span><br><span class="line">$ # If using the Notebook</span><br><span class="line">$ jupyter nbextension enable --py --sys-prefix ipympl    # can be skipped for notebook version 5.3 and above</span><br><span class="line">$ # If using JupyterLab</span><br><span class="line">$ # Install nodejs: https://nodejs.org/en/download/</span><br><span class="line">$ jupyter labextension install @jupyter-widgets/jupyterlab-manager</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Jupyter添加Python3 kernel</title>
      <link href="/2019/04/12/Python/Jupyter%E6%B7%BB%E5%8A%A0Python3%20kernel/"/>
      <url>/2019/04/12/Python/Jupyter%E6%B7%BB%E5%8A%A0Python3%20kernel/</url>
      
        <content type="html"><![CDATA[<h1 id="Jupyter添加Python3-kernel"><a href="#Jupyter添加Python3-kernel" class="headerlink" title="Jupyter添加Python3 kernel"></a>Jupyter添加Python3 kernel</h1><ol><li>安装Python3</li><li>使用<code>pip3 install jupyter</code>安装Jupyter</li><li>使用<code>ipython3 kernelspec install-self</code>激活Python3 kernel</li></ol>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Python求解稀疏矩阵</title>
      <link href="/2019/04/12/Python/Python%E6%B1%82%E8%A7%A3%E7%A8%80%E7%96%8F%E7%9F%A9%E9%98%B5/"/>
      <url>/2019/04/12/Python/Python%E6%B1%82%E8%A7%A3%E7%A8%80%E7%96%8F%E7%9F%A9%E9%98%B5/</url>
      
        <content type="html"><![CDATA[<h1 id="Python求解稀疏矩阵"><a href="#Python求解稀疏矩阵" class="headerlink" title="Python求解稀疏矩阵"></a>Python求解稀疏矩阵</h1><p>主要使用SciPy下面的Sparse。参考：<a href="https://docs.scipy.org/doc/scipy/reference/sparse.linalg.html" target="_blank" rel="noopener">https://docs.scipy.org/doc/scipy/reference/sparse.linalg.html</a><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">from scipy import sparse</span><br><span class="line">from scipy.sparse.linalg import spsolve</span><br><span class="line">import numpy as np</span><br><span class="line">A = sparse.lil_matrix((4,4))</span><br><span class="line">A[0,0] = 1</span><br><span class="line"># A[0,1] = 1</span><br><span class="line">A[1,0] = 2</span><br><span class="line">A[1,1] = 3</span><br><span class="line">A[1,2] = 6</span><br><span class="line">A[2,1] = 1</span><br><span class="line">A[2,2] = 5</span><br><span class="line">A[2,3] = 7</span><br><span class="line">A[3,2] = 5</span><br><span class="line">A[3,3] = 1</span><br><span class="line">A = sparse.csc_matrix(A)</span><br><span class="line"># b = np.array([3,26,45,19])</span><br><span class="line">b = np.array([1,26,45,19])</span><br><span class="line">spsolve(A,b)</span><br></pre></td></tr></table></figure></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>python文件与路径操作</title>
      <link href="/2019/04/12/Python/python%E6%96%87%E4%BB%B6%E4%B8%8E%E8%B7%AF%E5%BE%84%E6%93%8D%E4%BD%9C/"/>
      <url>/2019/04/12/Python/python%E6%96%87%E4%BB%B6%E4%B8%8E%E8%B7%AF%E5%BE%84%E6%93%8D%E4%BD%9C/</url>
      
        <content type="html"><![CDATA[<h1 id="python文件与路径操作"><a href="#python文件与路径操作" class="headerlink" title="python文件与路径操作"></a>python文件与路径操作</h1><p>python中对文件、文件夹（文件操作函数）的操作需要涉及到<strong>os</strong>模块和<strong>shutil</strong>模块。</p><h2 id="python-目录操作"><a href="#python-目录操作" class="headerlink" title="python 目录操作"></a>python 目录操作</h2><ul><li>得到当前工作目录，即当前Python脚本工作的目录路径：<code>os.getcwd()</code></li><li>返回指定目录下的所有文件和目录名：<code>os.listdir()</code></li><li>函数用来删除一个文件：<code>os.remove()</code></li><li>删除多个目录：<code>os.removedirs(r&quot;c:\python&quot;)</code></li><li>检验给出的路径是否是一个文件：<code>os.path.isfile()</code></li><li>检验给出的路径是否是一个目录：<code>os.path.isdir()</code></li><li>转换目录：<code>os.chdir(&quot;path&quot;)</code></li><li>判断是否是绝对路径：<code>os.path.isabs()</code></li><li>检验给出的路径是否真地存：<code>os.path.exists()</code></li><li>返回一个路径的目录名和文件名：<code>os.path.split()</code></li><li>分离扩展名：<code>os.path.splitext()</code></li><li>获取路径名：<code>os.path.dirname()</code></li><li>获取文件名：<code>os.path.basename()</code></li><li>运行shell命令：<code>os.system()</code></li><li>读取和设置环境变量：<code>os.getenv()</code>与<code>os.putenv()</code></li><li>给出当前平台使用的行终止符：<code>os.linesep</code>；Windows使用’\r\n’，Linux使用’\n’而Mac使用’\r’</li><li>指示你正在使用的平台：<code>os.name</code>；对于Windows，它是’nt’，而对于Linux/Unix用户，它是’posix’</li><li>重命名：<code>os.rename(old, new)</code></li><li>创建多级目录：<code>os.makedirs(r&quot;c:\python\test&quot;)</code></li><li>创建单个目录：<code>os.mkdir(&quot;test&quot;)</code></li><li>获取文件属性：<code>os.stat(file)</code></li><li>修改文件权限与时间戳：<code>os.chmod(file)</code></li><li>终止当前进程：<code>os.exit()</code></li><li>获取文件大小：<code>os.path.getsize(filename)</code></li><li>创建目录：<code>os.mkdir(&quot;file&quot;)</code></li><li>复制文件：<code>shutil.copyfile(&quot;oldfile&quot;,&quot;newfile&quot;)</code>；oldfile和newfile都只能是文件</li><li>复制文件或目录：<code>shutil.copy(&quot;oldfile&quot;,&quot;newfile&quot;)</code>；oldfile只能是文件夹，newfile可以是文件，也可以是目标目录</li><li>复制文件夹：<code>shutil.copytree(&quot;olddir&quot;,&quot;newdir&quot;)</code>；olddir和newdir都只能是目录，且newdir必须不存在</li><li>移动文件（目录）：<code>shutil.move(&quot;oldpos&quot;,&quot;newpos&quot;)</code></li><li>删除目录：<code>shutil.rmtree(&quot;dir&quot;)</code>；空目录、有内容的目录都可以删</li></ul><h2 id="python-文件操作："><a href="#python-文件操作：" class="headerlink" title="python 文件操作："></a>python 文件操作：</h2><ul><li>创建空文件<br><code>os.mknod(&quot;test.txt&quot;)</code></li><li>直接打开一个文件，如果文件不存在则创建文件<br><code>fp = open(&quot;test.txt&quot;,w)</code></li></ul><blockquote><p>关于open 模式：<br>w     以写方式打开<br>a     以追加模式打开 (从 EOF 开始, 必要时创建新文件)<br>r+     以读写模式打开<br>w+     以读写模式打开 (参见 w )<br>a+     以读写模式打开 (参见 a )<br>rb     以二进制读模式打开<br>wb     以二进制写模式打开 (参见 w )<br>ab     以二进制追加模式打开 (参见 a )<br>rb+    以二进制读写模式打开 (参见 r+ )<br>wb+    以二进制读写模式打开 (参见 w+ )<br>ab+    以二进制读写模式打开 (参见 a+ )</p></blockquote><ul><li>size为读取的长度，以byte为单位<br><code>fp.read([size])</code></li><li>读一行，如果定义了size，有可能返回的只是一行的一部分<br><code>fp.readline([size])</code></li><li>把文件每一行作为一个list的一个成员，并返回这个list。其实它的内部是通过循环调用readline()来实现的。如果提供size参数，size是表示读取内容的总长，也就是说可能只读到文件的一部分。<br><code>fp.readlines([size])</code></li><li>把str写到文件中，write()并不会在str后加上一个换行符<br><code>fp.write(str)</code></li><li>把seq的内容全部写到文件中(多行一次性写入)。这个函数也只是忠实地写入，不会在每行后面加上任何东西。<br><code>fp.writelines(seq)</code></li><li>关闭文件<br><code>fp.close()</code></li><li>把缓冲区的内容写入硬盘<br><code>fp.flush()</code></li><li>返回一个长整型的“文件标签”<br><code>fp.fileno()</code></li><li>文件是否是一个终端设备文件（unix系统中的）<br><code>fp.isatty()</code></li><li>返回文件操作标记的当前位置，以文件的开头为原点<br><code>fp.tell()</code></li><li>返回下一行，并将文件操作标记位移到下一行。把一个file用于for … in file这样的语句时，就是调用next()函数来实现遍历的。<br><code>fp.next()</code></li><li>将文件打操作标记移到offset的位置。这个offset一般是相对于文件的开头来计算的，一般为正数。但如果提供了whence参数就不一定了，whence可以为0表示从头开始计算，1表示以当前位置为原点计算。2表示以文件末尾为原点进行计算。需要注意，如果文件以a或a+的模式打开，每次进行写操作时，文件操作标记会自动返回到文件末尾。<br><code>fp.seek(offset[,whence])</code></li><li>把文件裁成规定的大小，默认的是裁到当前文件操作标记的位置。如果size比文件的大小还要大，依据系统的不同可能是不改变文件，也可能是用0把文件补到相应的大小，也可能是以一些随机的内容加上去。<br><code>fp.truncate([size])</code></li></ul><p>相关例子<br> 1 将文件夹下所有图片名称加上’_fc’<br>python代码:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"># -*- coding:utf-8 -*-</span><br><span class="line">import re</span><br><span class="line">import os</span><br><span class="line">import time</span><br><span class="line">#str.split(string)分割字符串</span><br><span class="line">#&apos;连接符&apos;.join(list) 将列表组成字符串</span><br><span class="line">def change_name(path):</span><br><span class="line">    global i</span><br><span class="line">    if not os.path.isdir(path) and not os.path.isfile(path):</span><br><span class="line">        return False</span><br><span class="line">    if os.path.isfile(path):</span><br><span class="line">        file_path = os.path.split(path) #分割出目录与文件</span><br><span class="line">        lists = file_path[1].split(&apos;.&apos;) #分割出文件与文件扩展名</span><br><span class="line">        file_ext = lists[-1] #取出后缀名(列表切片操作)</span><br><span class="line">        img_ext = [&apos;bmp&apos;,&apos;jpeg&apos;,&apos;gif&apos;,&apos;psd&apos;,&apos;png&apos;,&apos;jpg&apos;]</span><br><span class="line">        if file_ext in img_ext:</span><br><span class="line">            os.rename(path,file_path[0]+&apos;/&apos;+lists[0]+&apos;_fc.&apos;+file_ext)</span><br><span class="line">            i+=1 #注意这里的i是一个陷阱</span><br><span class="line">        #或者</span><br><span class="line">        #img_ext = &apos;bmp|jpeg|gif|psd|png|jpg&apos;</span><br><span class="line">        #if file_ext in img_ext:</span><br><span class="line">        #    print(&apos;ok---&apos;+file_ext)</span><br><span class="line">    elif os.path.isdir(path):</span><br><span class="line">        for x in os.listdir(path):</span><br><span class="line">            change_name(os.path.join(path,x)) #os.path.join()在路径处理上很有用</span><br><span class="line"></span><br><span class="line">img_dir = &apos;D:\\xx\\xx\\images&apos;</span><br><span class="line">img_dir = img_dir.replace(&apos;\\&apos;,&apos;/&apos;)</span><br><span class="line">start = time.time()</span><br><span class="line">i = 0</span><br><span class="line">change_name(img_dir)</span><br><span class="line">c = time.time() - start</span><br><span class="line">print(&apos;程序运行耗时:%0.2f&apos;%(c))</span><br><span class="line">print(&apos;总共处理了 %s 张图片&apos;%(i))</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Python去除List中的重复元素</title>
      <link href="/2019/04/12/Python/Python%E5%8E%BB%E9%99%A4List%E4%B8%AD%E7%9A%84%E9%87%8D%E5%A4%8D%E5%85%83%E7%B4%A0/"/>
      <url>/2019/04/12/Python/Python%E5%8E%BB%E9%99%A4List%E4%B8%AD%E7%9A%84%E9%87%8D%E5%A4%8D%E5%85%83%E7%B4%A0/</url>
      
        <content type="html"><![CDATA[<h1 id="Python去除List中的重复元素"><a href="#Python去除List中的重复元素" class="headerlink" title="Python去除List中的重复元素"></a>Python去除List中的重复元素</h1><h2 id="使用内置的Set"><a href="#使用内置的Set" class="headerlink" title="使用内置的Set"></a>使用内置的Set</h2><p>例如：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">l1 = [<span class="number">3</span>,<span class="number">2</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">6</span>]</span><br><span class="line">l2 = list(set(l1))</span><br></pre></td></tr></table></figure></p><h2 id="如果想保持原来List中元素的顺序"><a href="#如果想保持原来List中元素的顺序" class="headerlink" title="如果想保持原来List中元素的顺序"></a>如果想保持原来List中元素的顺序</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">l1 = [<span class="number">3</span>,<span class="number">2</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">6</span>]</span><br><span class="line">l2 = list(set(l1))</span><br><span class="line">l2.sort(key = l1.index)</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>使用xlrd操作Excel</title>
      <link href="/2019/04/12/Python/%E4%BD%BF%E7%94%A8xlrd%E6%93%8D%E4%BD%9CExcel/"/>
      <url>/2019/04/12/Python/%E4%BD%BF%E7%94%A8xlrd%E6%93%8D%E4%BD%9CExcel/</url>
      
        <content type="html"><![CDATA[<h1 id="使用xlrd操作Excel"><a href="#使用xlrd操作Excel" class="headerlink" title="使用xlrd操作Excel"></a>使用xlrd操作Excel</h1><h2 id="1-安装xlrd"><a href="#1-安装xlrd" class="headerlink" title="1. 安装xlrd"></a>1. 安装xlrd</h2><p>可以使用pip安装xlrd：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo pip install xlrd</span><br></pre></td></tr></table></figure><h2 id="2-使用介绍"><a href="#2-使用介绍" class="headerlink" title="2. 使用介绍"></a>2. 使用介绍</h2><h3 id="2-1-导入模块"><a href="#2-1-导入模块" class="headerlink" title="2.1 导入模块"></a>2.1 导入模块</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">import xlrd</span><br></pre></td></tr></table></figure><h3 id="2-2-打开Excel文件"><a href="#2-2-打开Excel文件" class="headerlink" title="2.2 打开Excel文件"></a>2.2 打开Excel文件</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data = xlrd.open_workbook(&apos;excelFile.xls&apos;)</span><br></pre></td></tr></table></figure><h3 id="2-3-常用命令"><a href="#2-3-常用命令" class="headerlink" title="2.3 常用命令"></a>2.3 常用命令</h3><ul><li><p>获取一个工作表</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">table = data.sheets()[0]</span><br><span class="line">table = data.sheet_by_name(u&apos;Sheet1&apos;) #通过名称获取</span><br><span class="line">table = data.sheet_by_index(0) #通过索引顺序获取</span><br></pre></td></tr></table></figure></li><li><p>获取整行和整列的值（数组）</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">table.row_values(i)</span><br><span class="line">table.col_values(i)</span><br></pre></td></tr></table></figure></li><li><p>获取行数和列数</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">nrows = table.nrows</span><br><span class="line">ncols = table.ncols</span><br></pre></td></tr></table></figure></li></ul><ul><li><p>循环行列表数据</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">for i in range(nrows ):</span><br><span class="line">    print table.row_values(i)</span><br></pre></td></tr></table></figure></li><li><p>单元格</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cell_A1 = table.cell(0,0).value</span><br><span class="line">cell_C4 = table.cell(2,3).value</span><br></pre></td></tr></table></figure></li></ul><ul><li>使用行列索引<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cell_A1 = table.row(0)[0].value</span><br><span class="line">cell_A2 = table.col(1)[0].value</span><br></pre></td></tr></table></figure></li></ul>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>将List中的元素批量转换类型</title>
      <link href="/2019/04/12/Python/%E5%B0%86List%E4%B8%AD%E7%9A%84%E5%85%83%E7%B4%A0%E6%89%B9%E9%87%8F%E8%BD%AC%E6%8D%A2%E7%B1%BB%E5%9E%8B/"/>
      <url>/2019/04/12/Python/%E5%B0%86List%E4%B8%AD%E7%9A%84%E5%85%83%E7%B4%A0%E6%89%B9%E9%87%8F%E8%BD%AC%E6%8D%A2%E7%B1%BB%E5%9E%8B/</url>
      
        <content type="html"><![CDATA[<h1 id="将List中的元素批量转换类型"><a href="#将List中的元素批量转换类型" class="headerlink" title="将List中的元素批量转换类型"></a>将List中的元素批量转换类型</h1><h2 id="1-使用列表推导式"><a href="#1-使用列表推导式" class="headerlink" title="1. 使用列表推导式"></a>1. 使用列表推导式</h2><p>例如：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">a = [<span class="number">3</span>,<span class="number">2</span>,<span class="number">7</span>,<span class="number">6</span>,<span class="number">8</span>]</span><br><span class="line">b = [str(num) <span class="keyword">for</span> num <span class="keyword">in</span> a]</span><br></pre></td></tr></table></figure></p><h2 id="2-使用map"><a href="#2-使用map" class="headerlink" title="2. 使用map"></a>2. 使用map</h2><p>例如：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">a = [<span class="number">3</span>,<span class="number">2</span>,<span class="number">7</span>,<span class="number">6</span>,<span class="number">8</span>]</span><br><span class="line">b = list(map(str,a))</span><br></pre></td></tr></table></figure></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>在homeassistant中添加易微联Sonoff B1灯泡</title>
      <link href="/2019/04/12/Python/%E5%9C%A8homeassistant%E4%B8%AD%E6%B7%BB%E5%8A%A0%E6%98%93%E5%BE%AE%E8%81%94Sonoff%20B1%E7%81%AF%E6%B3%A1/"/>
      <url>/2019/04/12/Python/%E5%9C%A8homeassistant%E4%B8%AD%E6%B7%BB%E5%8A%A0%E6%98%93%E5%BE%AE%E8%81%94Sonoff%20B1%E7%81%AF%E6%B3%A1/</url>
      
        <content type="html"><![CDATA[<h1 id="在homeassistant中添加易微联Sonoff-B1灯泡"><a href="#在homeassistant中添加易微联Sonoff-B1灯泡" class="headerlink" title="在homeassistant中添加易微联Sonoff B1灯泡"></a>在homeassistant中添加易微联Sonoff B1灯泡</h1><h2 id="1-获取api-key和token"><a href="#1-获取api-key和token" class="headerlink" title="1. 获取api-key和token"></a>1. 获取api-key和token</h2><p>安卓手机中<code>/data/data/com.coolkit/shared_prefs/setting.xml.xml</code>文件存有token和api-key（Bearer即是）。此外，有token后可以使用homebridge-ewelink获取到websocket的json内容。</p><h2 id="2-建立一个服务器与易微联通信"><a href="#2-建立一个服务器与易微联通信" class="headerlink" title="2. 建立一个服务器与易微联通信"></a>2. 建立一个服务器与易微联通信</h2><p><a href="_v_attachments/20181220125023160_4349/sonoff-server.py">sonoff-server.py</a></p><h2 id="3-在homeassistant配置文件中使用restapi与上面建立的服务器通信"><a href="#3-在homeassistant配置文件中使用restapi与上面建立的服务器通信" class="headerlink" title="3. 在homeassistant配置文件中使用restapi与上面建立的服务器通信"></a>3. 在homeassistant配置文件中使用restapi与上面建立的服务器通信</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">switch:</span><br><span class="line">  - platform: rest</span><br><span class="line">    name: Night Light Switch</span><br><span class="line">    body_on: &quot;on&quot;</span><br><span class="line">    body_off: &quot;off&quot;</span><br><span class="line">    resource: http://127.0.0.1:5000/switch/10001c4df5</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>ISMEAR和SIGMA</title>
      <link href="/2019/04/12/VASP/ISMEAR%E5%92%8CSIGMA/"/>
      <url>/2019/04/12/VASP/ISMEAR%E5%92%8CSIGMA/</url>
      
        <content type="html"><![CDATA[<h1 id="ISMEAR和SIGMA"><a href="#ISMEAR和SIGMA" class="headerlink" title="ISMEAR和SIGMA"></a>ISMEAR和SIGMA</h1><h2 id="ISMEAER这一项-目前需要记住的是-不同的值对应的是不同的展宽方法"><a href="#ISMEAER这一项-目前需要记住的是-不同的值对应的是不同的展宽方法" class="headerlink" title="ISMEAER这一项,目前需要记住的是:不同的值对应的是不同的展宽方法:"></a>ISMEAER这一项,目前需要记住的是:不同的值对应的是不同的展宽方法:</h2><blockquote><ul><li>对于半导体和绝缘体体系,ISMEAR的值取绝对不能大于0, 一般用0,</li><li>对所有体系,更加精确的时候用-5,</li><li>对于所有K点数目小于3的计算,不能用ISMEAR = -5。为什么呢?因为会出错。</li><li>K 点少,还是半导体或者绝缘体,那么只能用 ISMEAR = 0。</li><li>对于金属来说,ISMEAR的取值一般为1。</li><li>保守地说,ISMEAR = 0(Gaussian Smearing) 可以满足大部分的体系(金属,导体,半导体,分子),</li><li>在DOS能带计算中,使用ISMEAR= -5 用于获取精确的信息。 </li></ul></blockquote><h2 id="SIGMA的取值和ISMEAR息息相关"><a href="#SIGMA的取值和ISMEAR息息相关" class="headerlink" title="SIGMA的取值和ISMEAR息息相关:"></a>SIGMA的取值和ISMEAR息息相关:</h2><blockquote><ul><li>如果用了ISMEAR = -5 (对于所有体系),SIGMA的值可以忽略,也可以不管(VASP会自动略过)</li><li>对于金属: ISMEAR =1 或者0,非金属: ISMEAR= 0 的时候,一般取0.10 或者采用默认值 0.20 即可。不过很多人都不放心,为了保险想测试一番。标准是: SIGMA 的取值要保证OUTCAR 中的 entropy T*S 这一项,平均到每个原子上,要小于 1-2 meV。检查的时候可以用这个命令: grep ‘entropy T’  OUTCAR   (这里有两个单引号,不要输入的时候漏掉) 得出的能量除以体系中原子的数目,然后再和 0.001 eV 比较,如果小于,SIGMA取值OK,如果大于,再换个测试。</li><li>对于分子,原子体系(也就是你把分子或者原子放到一个box里面),必须要用很小的值,这里我们用的0.01。</li></ul></blockquote>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Win10 永久引用驱动程序签名</title>
      <link href="/2019/04/12/Windows/Win10%20%E6%B0%B8%E4%B9%85%E5%BC%95%E7%94%A8%E9%A9%B1%E5%8A%A8%E7%A8%8B%E5%BA%8F%E7%AD%BE%E5%90%8D/"/>
      <url>/2019/04/12/Windows/Win10%20%E6%B0%B8%E4%B9%85%E5%BC%95%E7%94%A8%E9%A9%B1%E5%8A%A8%E7%A8%8B%E5%BA%8F%E7%AD%BE%E5%90%8D/</url>
      
        <content type="html"><![CDATA[<h1 id="Win10-永久引用驱动程序签名"><a href="#Win10-永久引用驱动程序签名" class="headerlink" title="Win10 永久引用驱动程序签名"></a>Win10 永久引用驱动程序签名</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bcdedit.exe /set nointegritychecks on</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Windows远程桌面提示您的凭据不工作</title>
      <link href="/2019/04/12/Windows/Windows%E8%BF%9C%E7%A8%8B%E6%A1%8C%E9%9D%A2%E6%8F%90%E7%A4%BA%E6%82%A8%E7%9A%84%E5%87%AD%E6%8D%AE%E4%B8%8D%E5%B7%A5%E4%BD%9C/"/>
      <url>/2019/04/12/Windows/Windows%E8%BF%9C%E7%A8%8B%E6%A1%8C%E9%9D%A2%E6%8F%90%E7%A4%BA%E6%82%A8%E7%9A%84%E5%87%AD%E6%8D%AE%E4%B8%8D%E5%B7%A5%E4%BD%9C/</url>
      
        <content type="html"><![CDATA[<h1 id="Windows远程桌面提示您的凭据不工作"><a href="#Windows远程桌面提示您的凭据不工作" class="headerlink" title="Windows远程桌面提示您的凭据不工作"></a>Windows远程桌面提示您的凭据不工作</h1><h2 id="服务器端"><a href="#服务器端" class="headerlink" title="服务器端"></a>服务器端</h2><p>进入组策略编辑器。<br>计算机配置→Window设置→安全设置→安全选项→网络访问：本地账户的共享和安全模型→经典-对本地用户进行身份验证，不改变起本来身份</p><h2 id="客户端"><a href="#客户端" class="headerlink" title="客户端"></a>客户端</h2><p>进入组策略编辑器。<br>计算机配置→管理模版→系统→凭据分配→允许分配保存的凭据用于仅NTLM服务器身份验证→启用→输入“TERMSRV/*”</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Windows锁屏</title>
      <link href="/2019/04/12/Windows/Windows%E9%94%81%E5%B1%8F/"/>
      <url>/2019/04/12/Windows/Windows%E9%94%81%E5%B1%8F/</url>
      
        <content type="html"><![CDATA[<h1 id="Windows锁屏"><a href="#Windows锁屏" class="headerlink" title="Windows锁屏"></a>Windows锁屏</h1><p>Windows锁屏在运行（Win+R）或者命令提示符中输入：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rundll32.exe user32.dll,LockWorkStation</span><br></pre></td></tr></table></figure></p><p>可以使用如下python脚本进行锁屏：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> ctypes <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> ctypes.wintypes <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line">HWND_BROADCAST = <span class="number">0xffff</span></span><br><span class="line">WM_SYSCOMMAND = <span class="number">0x0112</span></span><br><span class="line">SC_MONITORPOWER = <span class="number">0xF170</span></span><br><span class="line">MonitorPowerOff = <span class="number">2</span></span><br><span class="line">SW_SHOW = <span class="number">5</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span><span class="params">()</span>:</span></span><br><span class="line">    windll.user32.PostMessageW(HWND_BROADCAST, WM_SYSCOMMAND, SC_MONITORPOWER, MonitorPowerOff)</span><br><span class="line">    </span><br><span class="line">    shell32 = windll.LoadLibrary(shell32.dll);</span><br><span class="line">    shell32.ShellExecuteW(<span class="keyword">None</span>,<span class="string">'open'</span>, <span class="string">'rundll32.exe'</span>, <span class="string">'USER32,LockWorkStation'</span>,<span class="string">''</span>,SW_SHOW)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    <span class="keyword">print</span> <span class="string">'Win32 Application in python'</span></span><br><span class="line">    main()</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>删除资源管理器中的OneDrive文件夹</title>
      <link href="/2019/04/12/Windows/%E5%88%A0%E9%99%A4%E8%B5%84%E6%BA%90%E7%AE%A1%E7%90%86%E5%99%A8%E4%B8%AD%E7%9A%84OneDrive%E6%96%87%E4%BB%B6%E5%A4%B9/"/>
      <url>/2019/04/12/Windows/%E5%88%A0%E9%99%A4%E8%B5%84%E6%BA%90%E7%AE%A1%E7%90%86%E5%99%A8%E4%B8%AD%E7%9A%84OneDrive%E6%96%87%E4%BB%B6%E5%A4%B9/</url>
      
        <content type="html"><![CDATA[<h1 id="删除资源管理器中的OneDrive文件夹"><a href="#删除资源管理器中的OneDrive文件夹" class="headerlink" title="删除资源管理器中的OneDrive文件夹"></a>删除资源管理器中的OneDrive文件夹</h1><p>用管理员身份打开命令提示符，输入：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">REG Delete &quot;HKEY_CLASSES_ROOT\CLSID\&#123;018D5C66-4533-4307-9B53-224DE2ED1FE6&#125;&quot; /f</span><br><span class="line">REG Delete &quot;HKEY_CLASSES_ROOT\Wow6432Node\CLSID\&#123;018D5C66-4533-4307-9B53-224DE2ED1FE6&#125;&quot; /f</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>使用pbs脚本提交并行计算任务</title>
      <link href="/2019/04/12/Julia/%E4%BD%BF%E7%94%A8pbs%E8%84%9A%E6%9C%AC%E6%8F%90%E4%BA%A4%E5%B9%B6%E8%A1%8C%E8%AE%A1%E7%AE%97%E4%BB%BB%E5%8A%A1/"/>
      <url>/2019/04/12/Julia/%E4%BD%BF%E7%94%A8pbs%E8%84%9A%E6%9C%AC%E6%8F%90%E4%BA%A4%E5%B9%B6%E8%A1%8C%E8%AE%A1%E7%AE%97%E4%BB%BB%E5%8A%A1/</url>
      
        <content type="html"><![CDATA[<h1 id="使用pbs脚本提交并行计算任务"><a href="#使用pbs脚本提交并行计算任务" class="headerlink" title="使用pbs脚本提交并行计算任务"></a>使用pbs脚本提交并行计算任务</h1><p>以并行计算$\pi$为例</p><p>计算$\pi$的循环写入<strong>cal_sum.jl</strong>文件，内容如下所示：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">function cal_sum(first, last)</span><br><span class="line">    pi_total = 0.0</span><br><span class="line">    for k=first:last</span><br><span class="line">        pi_total += (-1)^k * 4 / (2*k + 2) / (2*k + 3) / (2*k + 4)</span><br><span class="line">    end</span><br><span class="line">    pi_total</span><br><span class="line">end</span><br></pre></td></tr></table></figure><p>并行运算的主体写入<strong>pi_parallel</strong>文件，内容如下所示：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">@everywhere include(&quot;cal_sum.jl&quot;)</span><br><span class="line">pi_1 = @spawn cal_sum(0,100000000)</span><br><span class="line">pi_2 = @spawn cal_sum(100000001,200000000)</span><br><span class="line">pi_3 = @spawn cal_sum(200000001,300000000)</span><br><span class="line">pi_4 = @spawn cal_sum(300000001,400000000)</span><br><span class="line">pi_5 = @spawn cal_sum(400000001,500000000)</span><br><span class="line">pi_6 = @spawn cal_sum(500000001,600000000)</span><br><span class="line">pi_7 = @spawn cal_sum(600000001,700000000)</span><br><span class="line">pi_8 = @spawn cal_sum(700000001,800000000)</span><br><span class="line"></span><br><span class="line">println(3+fetch(pi_1)+fetch(pi_2)+fetch(pi_3)+fetch(pi_4)+fetch(pi_5)+fetch(pi_6)+fetch(pi_7)+fetch(pi_8))</span><br></pre></td></tr></table></figure><p>提交计算任务的PBS脚本内容如下所示：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/bash</span><br><span class="line"></span><br><span class="line">#PBS -N julia</span><br><span class="line">#PBS -q batch</span><br><span class="line">#PBS -l nodes=1:ppn=08</span><br><span class="line">#PBS -j oe</span><br><span class="line"></span><br><span class="line">cd $PBS_O_WORKDIR</span><br><span class="line">NP=`wc -l &lt; $PBS_NODEFILE`</span><br><span class="line"></span><br><span class="line">julia -p 8 pi_parallel.jl</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>LaTeX括号总结</title>
      <link href="/2019/04/12/LaTeX/LaTeX%E6%8B%AC%E5%8F%B7%E6%80%BB%E7%BB%93/"/>
      <url>/2019/04/12/LaTeX/LaTeX%E6%8B%AC%E5%8F%B7%E6%80%BB%E7%BB%93/</url>
      
        <content type="html"><![CDATA[<h1 id="LaTeX括号总结"><a href="#LaTeX括号总结" class="headerlink" title="LaTeX括号总结"></a>LaTeX括号总结</h1><table><thead><tr><th>功能</th><th>语法</th><th>显示</th></tr></thead><tbody><tr><td>不好看</td><td>(\frac{1}{2})</td><td>$(\frac{1}{2})$</td></tr><tr><td>好一点</td><td>\left(\frac{1}{2}\right)</td><td>$\left(\frac{1}{2}\right)$</td></tr></tbody></table><h2 id="可以使用-left和-right来显示不同括号"><a href="#可以使用-left和-right来显示不同括号" class="headerlink" title="可以使用\left和\right来显示不同括号"></a>可以使用\left和\right来显示不同括号</h2><table><thead><tr><th>功能</th><th>语法</th><th>显示</th></tr></thead><tbody><tr><td>圆括号</td><td>\left( \frac{a}{b} \right)</td><td>$\left( \frac{a}{b} \right)$</td></tr><tr><td>方括号</td><td>\left[ \frac{a}{b} \right]</td><td>$\left[ \frac{a}{b} \right]$</td></tr><tr><td>花括号</td><td>\left\{ \frac{a}{b} \right\}</td><td>$\left{ \frac{a}{b} \right}$</td></tr><tr><td>角括号</td><td>\left \langle \frac{a}{b} \right \rangle</td><td>$\left \langle \frac{a}{b} \right \rangle$</td></tr><tr><td>绝对值</td><td>\left\</td><td>\frac{a}{b} \right \</td><td></td><td>$\left</td><td>\frac{a}{b} \right</td><td>$</td></tr><tr><td>范数</td><td>\left\</td><td>\frac{a}{b} \right \</td><td></td><td>$\left \</td><td>\frac{a}{b} \right \</td><td>$</td></tr><tr><td>取整</td><td>\left \lfloor \frac{a}{b} \right\rfloor</td><td>$\left\lfloor \frac{a}{b} \right\rfloor$</td></tr><tr><td>取顶</td><td>\left \lceil \frac{a}{b} \right\rceil</td><td>$\left\lceil \frac{a}{b} \right\rceil$</td></tr><tr><td>斜线</td><td>\left/ \frac{a}{b} \right\backslash</td><td>$\left/ \frac{a}{b} \right\backslash$</td></tr><tr><td>上下箭头</td><td>\left\uparrow \frac{a}{b} \right\downarrow<br>\left\Uparrow \frac{a}{b} \right\Downarrow<br>\left\updownarrow \frac{a}{b} \right\Updownarrow</td><td>$\left\uparrow \frac{a}{b} \right\downarrow$<br>$\left\Uparrow \frac{a}{b} \right\Downarrow$<br>$\left\updownarrow \frac{a}{b} \right\Updownarrow$</td></tr><tr><td>混合括号</td><td>\left\langle \psi \right\</td><td></td><td>$\left\langle \psi \right</td><td>$</td></tr><tr><td>单左括号</td><td>\left\{ \frac{a}{b} \right .</td><td>$\left{ \frac{a}{b} \right .$</td></tr><tr><td>单右括号</td><td>\left. \frac{a}{b} \right }</td><td>$\left . \frac{a}{b} \right }$</td></tr></tbody></table><h2 id="备注"><a href="#备注" class="headerlink" title="备注"></a>备注</h2><p>可以使用\big, \Big, \bigg, \Bigg控制括号的大小，比如代码<strong>\Bigg</strong> ( <strong>\bigg</strong> [ <strong>\Big</strong> { <strong>\big</strong>\langle \left | | \frac{a}{b} | \right | <strong>\big</strong> \rangle \Big } <strong>\bigg</strong> ] <strong>\Bigg</strong> )显示$\Bigg ( \bigg [ \Big { \big\langle \left | | \frac{a}{b} | \right | \big \rangle \Big } \bigg ] \Bigg )$</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>启动http的webdav</title>
      <link href="/2019/04/12/Windows/%E5%90%AF%E5%8A%A8http%E7%9A%84webdav/"/>
      <url>/2019/04/12/Windows/%E5%90%AF%E5%8A%A8http%E7%9A%84webdav/</url>
      
        <content type="html"><![CDATA[<h1 id="启动http的webdav"><a href="#启动http的webdav" class="headerlink" title="启动http的webdav"></a>启动http的webdav</h1><p>如果WebDAV不是https的，win7、WIN10默认是添加不上的，需要修改注册表： </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\WebClient\Parameters</span><br></pre></td></tr></table></figure><p>把<code>BasicAuthLevel</code>值改成2，即同时支持http和https，默认只支持https，然后重启服务： </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">net stop webclient </span><br><span class="line">net start webclient</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>配置Cmder</title>
      <link href="/2019/04/12/Windows/%E9%85%8D%E7%BD%AECmder/"/>
      <url>/2019/04/12/Windows/%E9%85%8D%E7%BD%AECmder/</url>
      
        <content type="html"><![CDATA[<h1 id="配置Cmder"><a href="#配置Cmder" class="headerlink" title="配置Cmder"></a>配置Cmder</h1><h2 id="下载Cmder"><a href="#下载Cmder" class="headerlink" title="下载Cmder"></a>下载Cmder</h2><p><a href="http://cmder.net/" target="_blank" rel="noopener">http://cmder.net/</a></p><h2 id="添加右键菜单"><a href="#添加右键菜单" class="headerlink" title="添加右键菜单"></a>添加右键菜单</h2><p>先将Cmder.exe所在的路径加入环境变量中。<br>以管理员身份执行<code>Cmder.exe /REGISTER ALL</code>。</p><h2 id="使用Cmder打开Anaconda-Prompt"><a href="#使用Cmder打开Anaconda-Prompt" class="headerlink" title="使用Cmder打开Anaconda Prompt"></a>使用Cmder打开Anaconda Prompt</h2><p>在Cmder的设置中添加一个Task，名字可以为Anaconda，内容如下：<code>cmd.exe /K C:\Users\dongbing\Anaconda3\Scripts\activate.bat C:\Users\dongbing\Anaconda3</code>。</p><p><strong>注意</strong> Anaconda所在文件夹可能发生改变。</p><p><img src="_v_images/20181220124226595_29571.png" alt="5b33f4378dac7a5fa9000004"></p><p>修改开始菜单中的Anaconda Propmpt快捷方式，目标修改为：<code>C:\Users\dongbing\cmder\Cmder.exe /task Anaconda</code>。</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Makefile</title>
      <link href="/2019/04/12/VASP/Makefile/"/>
      <url>/2019/04/12/VASP/Makefile/</url>
      
        <content type="html"><![CDATA[<h1 id="Makefile"><a href="#Makefile" class="headerlink" title="Makefile"></a>Makefile</h1><h2 id="Sugon"><a href="#Sugon" class="headerlink" title="Sugon"></a>Sugon</h2><p><a href="_v_attachments/20181220004136236_16304/makefile.include">makefile.include</a></p><h2 id="Workstation"><a href="#Workstation" class="headerlink" title="Workstation"></a>Workstation</h2><p><a href="_v_attachments/20181220004136236_16304/makefile_001.include">makefile_001.include</a></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>直接优化晶格常数</title>
      <link href="/2019/04/12/VASP/%E7%9B%B4%E6%8E%A5%E4%BC%98%E5%8C%96%E6%99%B6%E6%A0%BC%E5%B8%B8%E6%95%B0/"/>
      <url>/2019/04/12/VASP/%E7%9B%B4%E6%8E%A5%E4%BC%98%E5%8C%96%E6%99%B6%E6%A0%BC%E5%B8%B8%E6%95%B0/</url>
      
        <content type="html"><![CDATA[<h1 id="直接优化晶格常数"><a href="#直接优化晶格常数" class="headerlink" title="直接优化晶格常数"></a>直接优化晶格常数</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">System = Fe-lattice</span><br><span class="line">NWRITE = 0</span><br><span class="line">ISTART = 0</span><br><span class="line">GGA = PE</span><br><span class="line"></span><br><span class="line">ENCUT = 600</span><br><span class="line">EDIFF = 1E-6</span><br><span class="line">LREAL = Auto</span><br><span class="line">NELM = 100</span><br><span class="line"></span><br><span class="line">EDIFFG = -0.015</span><br><span class="line">IBRION = 1</span><br><span class="line">NSW = 100</span><br><span class="line">POTIM = 0.10</span><br><span class="line">ISPIN = 2</span><br><span class="line">MAGMOM = 2*3.0</span><br><span class="line"></span><br><span class="line">ALGO = Fast</span><br><span class="line">ISMEAR = 1</span><br><span class="line">SIGMA = 0.05</span><br><span class="line">ISIF = 3</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>VS 2015 professional</title>
      <link href="/2019/04/12/key/VS%202015%20professional/"/>
      <url>/2019/04/12/key/VS%202015%20professional/</url>
      
        <content type="html"><![CDATA[<h1 id="VS-2015-professional"><a href="#VS-2015-professional" class="headerlink" title="VS 2015 professional"></a>VS 2015 professional</h1><p>HMGNV-WCYXV-X7G9W-YCX63-B98R2</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Windows专业工作站版</title>
      <link href="/2019/04/12/key/Windows%E4%B8%93%E4%B8%9A%E5%B7%A5%E4%BD%9C%E7%AB%99%E7%89%88/"/>
      <url>/2019/04/12/key/Windows%E4%B8%93%E4%B8%9A%E5%B7%A5%E4%BD%9C%E7%AB%99%E7%89%88/</url>
      
        <content type="html"><![CDATA[<h1 id="Windows专业工作站版"><a href="#Windows专业工作站版" class="headerlink" title="Windows专业工作站版"></a>Windows专业工作站版</h1><p>NRG8B-VKK3Q-CXVCJ-9G2XF-6Q84J</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>四元数与旋转</title>
      <link href="/2019/04/12/%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86/%E5%9B%9B%E5%85%83%E6%95%B0%E4%B8%8E%E6%97%8B%E8%BD%AC/"/>
      <url>/2019/04/12/%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86/%E5%9B%9B%E5%85%83%E6%95%B0%E4%B8%8E%E6%97%8B%E8%BD%AC/</url>
      
        <content type="html"><![CDATA[<h1 id="四元数与旋转"><a href="#四元数与旋转" class="headerlink" title="四元数与旋转"></a>四元数与旋转</h1><p>四元数是一种高阶复数，四元数$q$表示为：</p><p>$$<br>q=(x,y,z,w)=x\bf{i}+y\bf{j}+z\bf{k}+w<br>$$<br>其中，$\bf{i}$，$\bf{j}$，$\bf{k}$满足：</p><p>$$<br>\bf{i}^2=\bf{j}^2=\bf{k}^2=−1 \<br>ij=k,jk=i,ki=j<br>$$<br>由于$\bf{i}$，$\bf{j}$，$\bf{k}$的性质和笛卡尔坐标系三个轴叉乘的性质很像，所以可以将四元数写成一个向量和一个实数组合的形式：</p><p>$$<br>q=(\vec{v}+w)=((x,y,z),w)<br>$$</p><ul><li>四元数乘法</li></ul><p>$$<br>q_1q_2=(\vec{v}_1\times \vec{v}_2+w_1\vec{v}_2+w_2\vec{v}_1,w_1w_2−\vec{v}_1\cdot \vec{v}_2)<br>$$</p><ul><li>四元数与旋转<br>如果把<strong>单位</strong>四元数($\vec{n}$为单位向量)表示为：</li></ul><p>$$<br>q=(\vec{n}\cdot \sin{\frac{\theta}{2}}, \cos{\frac{\theta}{2}})<br>$$<br>那么该单位四元数可以表示绕轴$\vec{n}$进行$\theta$角的旋转。</p><ul><li>CFX中调整视角<br>需要根据旋转轴和旋转角度计算旋转所需的四元数，如果多次旋转，把每次旋转的四元数按顺序相乘即可。<br>例如：</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">COMMAND FILE:</span><br><span class="line">  CFX Post Version = 17.2</span><br><span class="line">END</span><br><span class="line"></span><br><span class="line">VIEW:View 1</span><br><span class="line">  Camera Mode = User Specified</span><br><span class="line">  CAMERA:</span><br><span class="line">    Option = Pivot Point and Quaternion</span><br><span class="line">    Pivot Point = 0, 0, 0</span><br><span class="line">    Scale = 10</span><br><span class="line">    Pan = 0, 0</span><br><span class="line">    Rotation Quaternion = -0.653281482438188,-0.270598050073098,-0.270598050073098,0.653281482438188</span><br><span class="line">  END</span><br><span class="line"></span><br><span class="line">END</span><br><span class="line"></span><br><span class="line">&gt; update</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Adobe Premiere 裁剪视频</title>
      <link href="/2019/04/12/%E5%B7%A5%E5%85%B7/Adobe%20Premiere%20%E8%A3%81%E5%89%AA%E8%A7%86%E9%A2%91/"/>
      <url>/2019/04/12/%E5%B7%A5%E5%85%B7/Adobe%20Premiere%20%E8%A3%81%E5%89%AA%E8%A7%86%E9%A2%91/</url>
      
        <content type="html"><![CDATA[<h1 id="Adobe-Premiere-裁剪视频"><a href="#Adobe-Premiere-裁剪视频" class="headerlink" title="Adobe Premiere 裁剪视频"></a>Adobe Premiere 裁剪视频</h1><h2 id="1-导入待裁剪视频"><a href="#1-导入待裁剪视频" class="headerlink" title="1. 导入待裁剪视频"></a>1. 导入待裁剪视频</h2><p>文件–导入</p><p><img src="_v_images/20181220001023878_1844.png" alt="5a0c3b4e8dac7a40b1000004"></p><h2 id="2-标记出入点"><a href="#2-标记出入点" class="headerlink" title="2. 标记出入点"></a>2. 标记出入点</h2><p>拖动进度条到裁剪开始的位置，右键点击导入的视频，标记入点。然后拖动进度条到裁剪终止的位置，标记出点。</p><p><img src="_v_images/20181220001133188_12922.png" alt="5a0c3c978dac7a40b1000007"></p><h2 id="3-将标记好出入点的视频拖入到时间轴窗口"><a href="#3-将标记好出入点的视频拖入到时间轴窗口" class="headerlink" title="3. 将标记好出入点的视频拖入到时间轴窗口"></a>3. 将标记好出入点的视频拖入到时间轴窗口</h2><p><img src="_v_images/20181220001155112_30780.png" alt="5a0c3c978dac7a40b1000005"></p><h2 id="4-导出媒体"><a href="#4-导出媒体" class="headerlink" title="4. 导出媒体"></a>4. 导出媒体</h2><p>文件–导出</p><p><img src="_v_images/20181220001207142_13338.png" alt="5a0c3c978dac7a40b1000006"></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>使用数据库管理文献</title>
      <link href="/2019/04/12/%E5%B7%A5%E5%85%B7/%E4%BD%BF%E7%94%A8%E6%95%B0%E6%8D%AE%E5%BA%93%E7%AE%A1%E7%90%86%E6%96%87%E7%8C%AE/"/>
      <url>/2019/04/12/%E5%B7%A5%E5%85%B7/%E4%BD%BF%E7%94%A8%E6%95%B0%E6%8D%AE%E5%BA%93%E7%AE%A1%E7%90%86%E6%96%87%E7%8C%AE/</url>
      
        <content type="html"><![CDATA[<h1 id="使用数据库管理文献"><a href="#使用数据库管理文献" class="headerlink" title="使用数据库管理文献"></a>使用数据库管理文献</h1><h2 id="1-数据库安装"><a href="#1-数据库安装" class="headerlink" title="1. 数据库安装"></a>1. 数据库安装</h2><h3 id="Windows系统"><a href="#Windows系统" class="headerlink" title="Windows系统"></a>Windows系统</h3><p>从MySQL<a href="https://dev.mysql.com/downloads/installer/" target="_blank" rel="noopener">官网</a>下载最新版安装包，双击后按照提示安装好即可。为方便使用，安装好以后可以将MySQL Server下的bin路径加入环境变量中。</p><h3 id="OpenSUSE系统"><a href="#OpenSUSE系统" class="headerlink" title="OpenSUSE系统"></a>OpenSUSE系统</h3><p>OpenSUSE自带的repository中有MySQL的community版，使用zypper包管理器安装即可：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo zypper in &quot;mysql*&quot;</span><br></pre></td></tr></table></figure><p><strong>Windows系统下使用MySQL-Workbench，OpenSUSE系统使用MySQL-server</strong></p><h2 id="2-初始化数据库"><a href="#2-初始化数据库" class="headerlink" title="2. 初始化数据库"></a>2. 初始化数据库</h2><p>OpenSUSE下需要先启动MySQL服务：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl start mysql.service</span><br></pre></td></tr></table></figure><p>为了安全，设置root密码：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysqladmin -u root password dong71643612</span><br></pre></td></tr></table></figure><p>如果已经设置了root密码，现在想进行修改：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysqladmin -u root --password=dong71643612 password 123456</span><br></pre></td></tr></table></figure><p>设置好密码以后可以进入数据库：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql -u root -p</span><br></pre></td></tr></table></figure><p>弹出password后输入正确密码即可进入。</p><p>现在，需要创建一个数据库：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; CREATE DATABASE Literature;</span><br></pre></td></tr></table></figure><p>创建完成后可以使用如下命令查看数据库是否创建成功，如果创建成功，那么应该能看到有Literature：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; SHOW DATABASES;</span><br></pre></td></tr></table></figure><p>进入刚才建立的数据库：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; USE Literature;</span><br></pre></td></tr></table></figure><h2 id="3-添加用户并赋予权限"><a href="#3-添加用户并赋予权限" class="headerlink" title="3. 添加用户并赋予权限"></a>3. 添加用户并赋予权限</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; grant all privileges on *.* to &apos;dongbing&apos;@&apos;localhost&apos; with grant option;</span><br><span class="line">mysql&gt; grant all privileges on *.* to &apos;dongbing&apos;@&apos;%&apos; with grant option;</span><br></pre></td></tr></table></figure><h2 id="4-创建管理文献需要的表"><a href="#4-创建管理文献需要的表" class="headerlink" title="4. 创建管理文献需要的表"></a>4. 创建管理文献需要的表</h2><p>计划创建四张表，分别为：literatures（与一般文件管理软件类似存储文章题目、作者、发表时间、发表期刊等信息）；key_words（存储自己关心的关键词）；attributes（存储文章的属性）；paramaters（存储文章中的关键参数）。命令如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; create table literatures(id SMALLINT, title VARCHAR(255), authors VARCHAR(255), publish_date DATE, publish_in VARCHAR(255), abstract TEXT(1000));</span><br><span class="line">mysql&gt; create table key_words (id smallint, key_words varchar(100));</span><br><span class="line">mysql&gt; create table attributes (id smallint, attribute varchar(100), attribute_property varchar(100));</span><br><span class="line">mysql&gt; create table parameters (id smallint, parameter varchar(100), value double);</span><br></pre></td></tr></table></figure><p>表创建完成后，即可向表中插入条目：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; insert into literatures values(&apos;1&apos;,&apos;A general model for predicting coolant activity behaviour for fuel-failure monitoring analysis&apos;,&apos;B.J. Lewis&apos;, &apos;2007-1-30&apos;, &apos;Journal of Nuclear Materials&apos;, &apos;A mathematical ...&apos;);</span><br><span class="line">mysql&gt; insert into key_words values(&quot;1&quot;, &quot;diffusion_model&quot;);</span><br><span class="line">mysql&gt; insert into key_words values(&quot;1&quot;, &quot;gap_to_coolant_escape_rate_coefficient&quot;);</span><br></pre></td></tr></table></figure><h2 id="5-修改表"><a href="#5-修改表" class="headerlink" title="5. 修改表"></a>5. 修改表</h2><p>将存储文献的表中authors改为first_author：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; alter table literatures change authors first_author varchar(255);</span><br></pre></td></tr></table></figure><p>在存储文献的表中加入是否进行理论分析、数值模拟、实验的标志列：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; alter table literatures add column theory tinyint;</span><br><span class="line">mysql&gt; alter table literatures add column simulation tinyint;</span><br><span class="line">mysql&gt; alter table literatures add column experiment_self tinyint;</span><br><span class="line">mysql&gt; alter table literatures add column experiment_others tinyint;</span><br></pre></td></tr></table></figure><p>如果想修改新添加列中的数值，可以使用如下命令：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; update literatures set theory=1 where id=1;</span><br></pre></td></tr></table></figure><p>如果想更改表名称可以使用如下命令：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; rename table key_words to key_word;</span><br></pre></td></tr></table></figure><p>如果两张表的字段一致，并且希望插入全部数据，可以使用如下命令：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; insert into key_words select * from key_word;</span><br></pre></td></tr></table></figure><p>删除表：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; drop table key_word;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>VS Code Sync Gist</title>
      <link href="/2019/04/12/%E5%B7%A5%E5%85%B7/VS%20Code%20Sync%20Gist/"/>
      <url>/2019/04/12/%E5%B7%A5%E5%85%B7/VS%20Code%20Sync%20Gist/</url>
      
        <content type="html"><![CDATA[<h1 id="VS-Code-Sync-Gist"><a href="#VS-Code-Sync-Gist" class="headerlink" title="VS Code Sync Gist"></a>VS Code Sync Gist</h1><p>GitHub Token: 51146123e90ff99713de9825acffa676514f5336</p><p>GitHub Gist: 0975c8dc5323f45cb350c24f791147e5</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>配置ShadowSocks</title>
      <link href="/2019/04/12/%E5%B7%A5%E5%85%B7/%E9%85%8D%E7%BD%AEShadowSocks/"/>
      <url>/2019/04/12/%E5%B7%A5%E5%85%B7/%E9%85%8D%E7%BD%AEShadowSocks/</url>
      
        <content type="html"><![CDATA[<h1 id="配置ShadowSocks"><a href="#配置ShadowSocks" class="headerlink" title="配置ShadowSocks"></a>配置ShadowSocks</h1><h2 id="1-安装ShadowSocks"><a href="#1-安装ShadowSocks" class="headerlink" title="1. 安装ShadowSocks"></a>1. 安装ShadowSocks</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo pip install shadowsocks</span><br></pre></td></tr></table></figure><h2 id="2-配置ShadowSocks"><a href="#2-配置ShadowSocks" class="headerlink" title="2. 配置ShadowSocks"></a>2. 配置ShadowSocks</h2><p>创建ShadowSocks配置文件<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo vim /etc/shadowsocks.json</span><br></pre></td></tr></table></figure></p><p>输入如下内容<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&#123;    </span><br><span class="line">    &quot;server&quot;:&quot;my_server_ip&quot;,</span><br><span class="line">    &quot;server_port&quot;:8388,</span><br><span class="line">    &quot;local_address&quot;: &quot;127.0.0.1&quot;,</span><br><span class="line">    &quot;local_port&quot;:1080,</span><br><span class="line">    &quot;password&quot;:&quot;mypassword&quot;,</span><br><span class="line">    &quot;timeout&quot;:300,</span><br><span class="line">    &quot;method&quot;:&quot;rc4-md5&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>若要同时支持ipv4和ipv6只需把配置文件中的server设置为：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&quot;server&quot;:&quot;::&quot;,           # 同时支持 IPv4 和 IPv6</span><br></pre></td></tr></table></figure></p><h2 id="3-启动ShadowSocks"><a href="#3-启动ShadowSocks" class="headerlink" title="3. 启动ShadowSocks"></a>3. 启动ShadowSocks</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssserver -c /etc/shadowsocks.json -d start</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Derivation of Rayleigh-Plesset equation</title>
      <link href="/2019/04/12/%E6%B5%81%E4%BD%93%E5%8A%9B%E5%AD%A6/Derivation%20of%20Rayleigh-Plesset%20equation/"/>
      <url>/2019/04/12/%E6%B5%81%E4%BD%93%E5%8A%9B%E5%AD%A6/Derivation%20of%20Rayleigh-Plesset%20equation/</url>
      
        <content type="html"><![CDATA[<h1 id="Derivation-of-Rayleigh-Plesset-equation"><a href="#Derivation-of-Rayleigh-Plesset-equation" class="headerlink" title="Derivation of Rayleigh-Plesset equation"></a>Derivation of Rayleigh-Plesset equation</h1><h2 id="1-Introduction"><a href="#1-Introduction" class="headerlink" title="1. Introduction"></a>1. Introduction</h2><p>The most popular nonlinear equation for description of the nonlinear response of a gas bubble in liquid to a driving pressure field is the Rayleigh-Plesset equation. This can be derived from first principles using the bubble radius R as the dynamic parameter. However there exist heuristic formulations based on a form of the Rayleigh-Plesset equation in which the bubble volume $V$ is used as the dynamic parameter, where the damping is not derived from first principles. The predictions of the two approaches do not always agree, and this study was undertaken to derive to derive a form of the Rayleigh-Plesset equation in which the bubble volume $V$ is used as the dynamic parameter, and where the physics describing the dissipation is identical to that used when the Rayleigh-Plesset equation is cited in the radius frame.</p><h2 id="2-Derivation-of-the-Rayleigh-Plesset-equation-in-terms-of-the-bubble-radius"><a href="#2-Derivation-of-the-Rayleigh-Plesset-equation-in-terms-of-the-bubble-radius" class="headerlink" title="2. Derivation of the Rayleigh-Plesset equation in terms of the bubble radius"></a>2. Derivation of the Rayleigh-Plesset equation in terms of the bubble radius</h2><h3 id="2-1-Derivation-of-the-Rayleigh-Plesset-equation-in-terms-of-the-bubble-radius-using-an-energy-balance"><a href="#2-1-Derivation-of-the-Rayleigh-Plesset-equation-in-terms-of-the-bubble-radius-using-an-energy-balance" class="headerlink" title="2.1 Derivation of the Rayleigh-Plesset equation in terms of the bubble radius using an energy balance"></a>2.1 Derivation of the Rayleigh-Plesset equation in terms of the bubble radius using an energy balance</h3><p>Consider a spherical gas bubble which pulsates in an incompressible liquid as a result of an insonifying field (the long wavelength limit being assumed throughout this book). The fluid velocity $u(r,t)$ falls of as an inverse square law with range $r$ as a result of the assumption of liquid incompressibility, which implies that:</p><p>$$<br>4\pi R^2(t)\times \dot{R}(t)=4\pi r^2(t) \times u(r,t)<br>$$<br>$$<br>u(r,t) = \frac{R^2(t)}{r^2(t)}\dot{R}(t)<br>\tag{1}<br>$$<br>where the bubble has radius $R(t)$ and wall velocity $\dot{R}(t)$.</p><p>If the spatial scales over which this pressure changes are much greater than the bubble radius, this almost equals the liquid pressure far from the bubble, $P_{\infty}= P_0+P(t)$, which includes a dynamic component $P(t)$. <strong>The difference between this work, and that done by the pressure $P_L$ at the bubble wall, equals the kinetic energy in the liquid ($\phi_{KE}$)</strong>:</p><p>$$<br>\phi_{KE} = \frac{1}{2} \rho_0 \int_{r=R}^{r=\infty}4\pi r^2u^2\text{d}r=2\pi \rho_0 R^3 \dot{R}^2<br>\tag{2}<br>$$<br>This balance can be expressed as follows:</p><p>$$<br>\int_{R_0}^{R}(P_L-P_{\infty})4 \pi R^2 \text{d}R=2 \pi \rho_0 R^3 \dot{R}^2<br>\tag{3}<br>$$<br>Differentiation of equation 3 with respect to $R$, noting that</p><p>$$<br>\frac{\text{d}\dot{R}^2}{\text{d}R}=2\ddot{R}<br>$$<br>gives</p><p>$$<br>\frac{P_L(t)-P_{\infty}}{\rho_0}=R\ddot{R}+\frac{3}{2}\dot{R}^2<br>\tag{4}<br>$$</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>SURFACE TENSION</title>
      <link href="/2019/04/12/%E6%B5%81%E4%BD%93%E5%8A%9B%E5%AD%A6/SURFACE%20TENSION/"/>
      <url>/2019/04/12/%E6%B5%81%E4%BD%93%E5%8A%9B%E5%AD%A6/SURFACE%20TENSION/</url>
      
        <content type="html"><![CDATA[<h1 id="SURFACE-TENSION"><a href="#SURFACE-TENSION" class="headerlink" title="SURFACE TENSION"></a>SURFACE TENSION</h1><h2 id="Definition"><a href="#Definition" class="headerlink" title="Definition"></a>Definition</h2><p>The leaves, however, float for a different reason. They are not immersed in the water, so the weight of a leaf is not balanced by a buoyant force. Instead, the force balancing a leaf’s weight arises because of the surface tension of the water. Surface tension is a property that allows the surface of a liquid to behave somewhat as a trampoline does. When a person stands on a trampoline, the trampoline stretches downward a bit and, in so doing, exerts an upward elastic force on the person. This upward force balances the person’s weight. The surface of the water behaves in a similar way. In Figure 1, for instance, you can see the indentations in the water surface made by the feet of an insect known as a water strider, because it can stride or walk on the surface just as a person can walk on a trampoline.</p><p><img src="_v_images/20181220005203321_27245.jpeg" alt="58d9bf1c8dac7a74cc000018"></p><p><strong>Figure 1</strong> The indentations in the water surface made by a water strider are readily seen in this photograph. The surface tension of the water allows the insect to walk on the water without sinking. (&copy; Hermann Eisenbess/Photo Researchers)</p><p>Figure 2 illustrates the molecular basis for surface tension by considering the attractive forces that molecules in a liquid exert on one another. Part a shows a molecule within the bulk liquid, so that it is surrounded on all sides by other molecules. Thesurrounding molecules attract the central molecule equally in all directions, leading to a zero net force. In contrast, part b shows a molecule in the surface. Since there are no molecules of the liquid above the surface, this molecule experiences a net attractive force pointing toward the liquid interior. This net attractive force causes the liquid surface to contract toward the interior until repulsive collisional forces from the other molecules halt the contraction at the point when the surface area is a minimum. If the liquid is not acted upon by external forces, a liquid sample forms a sphere, which has the minimum surface area for a given volume. Nearly spherical drops of water are a familiar sight, for example, when the external forces are negligible.</p><p><img src="_v_images/20181220005223410_22528.jpeg" alt="58d9bec08dac7a74cc000017"></p><p><strong>Figure 2</strong> (a) A molecule within the bulk liquid is surrounded on all sides by other molecules, which attract it equally in all directions, leading to a zero net force. (b) Amolecule in the surface experiences a net attractive force pointing toward the liquid interior, because there are no molecules of the liquid above the surface.</p><p>To help us define the surface tension we use the apparatus shown in Figure 3. It consists of a C-shaped wire frame, on which is mounted a wire that can slide with negligible friction. The frame and sliding wire contain a thin film of liquid. Because surface tension causes the liquid surface to contract, a force $F$ is needed to move the slider to the right and extend the surface. The surface tension is denoted by the Greek letter gamma ($\gamma$) and, as indicated by Equation 1, is the magnitude $F$ of the force per unit length over which it acts. Table 1 gives the value of the surface tension for some typical materials.</p><blockquote><ul><li>DEFINITION OF SURFACE TENSION<br>The surface tension γ is the magnitude F of the force exerted parallel to the surface of a liquid divided by the length L of the line over which the force acts:</li></ul></blockquote><p>$$<br>\gamma = \frac{F}{L}<br>\tag{1}<br>$$<br>SI Unit of Surface Tension: $N/m$</p><p>For the specific case illustrated in Figure 3, there is an upper surface and a lower surface, as the blow-up drawing indicates. Thus, the force $F$ acts along a total length of $L = 2l$, where $l$ is the length of the slider.</p><p><img src="_v_images/20181220005254329_28865.jpeg" alt="58d9bec08dac7a74cc000014"></p><p><strong>Figure 3</strong> This apparatus, consisting of a C-shaped wire frame and a wire slider, can be used to measure the surface tension of a liquid.</p><p><strong>Table 1</strong> Surface Tensions of Common Liquids</p><table><thead><tr><th>Liquid</th><th>Surface Tension $\gamma$ (N/m)</th></tr></thead><tbody><tr><td>Benzene (20 °C)</td><td>0.029</td></tr><tr><td>Blood (37 °C)</td><td>0.058</td></tr><tr><td>Glycerin (20 °C)</td><td>0.063</td></tr><tr><td>Mercury (20 °C)</td><td>0.47</td></tr><tr><td>Water (20 °C)</td><td>0.073</td></tr><tr><td>Water (100 °C)</td><td>0.059</td></tr></tbody></table><h2 id="Capillary-Action"><a href="#Capillary-Action" class="headerlink" title="Capillary Action"></a>Capillary Action</h2><p>We have seen that surface tension arises because of the intermolecular forces of attraction that molecules in a liquid exert on one another. These forces, which are between like molecules, are called <strong><em>cohesive forces</em></strong>. A liquid, however, is often in contact with a solid surface, such as glass. Then additional forces of attraction come into play. They occur between molecules of the liquid and molecules of the solid surface and, being between unlike molecules, are called <strong><em>adhesive forces</em></strong>. </p><p>Consider a tube with a very small diameter, which is called a capillary. When a capillary, open at both ends, is inserted into a liquid, the result of the competition between cohesive and adhesive forces can be observed. For instance, Figure 4 shows a glass capillary inserted into water. In this case, the adhesive forces are stronger than the cohesive forces, so that the water molecules are attracted to the glass more strongly than to each other. The result is that the water surface curves upward against the glass. It is said that the water “wets” the glass. The surface tension leads to a force $F$ acting on the circular boundary between the water and the glass. This force is oriented at an angle $\phi$, which is determined by the competition between the cohesive and adhesive forces. The vertical component of F pulls the water up into the tube to a height $h$. At this height the<br>vertical component of $F$ balances the weight of the column of water of length $h$.</p><p><img src="_v_images/20181220005329591_11777.jpeg" alt="58d9bec08dac7a74cc000016"></p><p><strong>Figure 4</strong> Water rises in a glass capillary due to the surface tension of the water and the fact that the water wets the glass surface.</p><p>Figure 5 shows a glass capillary inserted into mercury, a situation in which the adhesive forces are weaker than the cohesive forces. The mercury atoms are attracted to each other more strongly than they are to the glass. As a result, the mercury surface curves downward against the glass and the mercury does not “wet” the glass. Now, in contrast to the situation illustrated in Figure 4, the surface tension leads to a force $F$, the vertical component of which pulls the mercury down a distance $h$ in the tube. The behavior of the liquids in both Figures 4 and 5 is called capillary action.</p><p><img src="_v_images/20181220005346009_7149.jpeg" alt="58d91eb18dac7a20f2000020"></p><p><strong>Figure 5</strong> Mercury falls in a glass capillary due to the surface tension of the mercury and the fact that the mercury does not wet the glass surface.</p><h2 id="Pressure-Inside-a-Soap-Bubble-and-a-Liquid-Drop"><a href="#Pressure-Inside-a-Soap-Bubble-and-a-Liquid-Drop" class="headerlink" title="Pressure Inside a Soap Bubble and a Liquid Drop"></a>Pressure Inside a Soap Bubble and a Liquid Drop</h2><p>Anyone who’s blown up a balloon has probably noticed that the air pressure inside the balloon is greater than on the outside. For instance, if the balloon is suddenly released, the greater inner pressure forces the air out, propelling the balloon much like a rocket. The reason for the greater pressure is that the tension in the stretched rubber tends to contract the balloon. To counteract this tendency, the balloon has a greater interior air pressure acting to expand the balloon.</p><p>A soap bubble (see Figure 7a) has two spherical surfaces (inside and outside) with a thin layer of liquid in-between. Like a balloon, the pressure inside a soap bubble is greater than that on the outside. As we will see shortly, this difference in pressure depends on the surface tension $\gamma$ of the liquid and the radius $R$ of the bubble. For the sake of simplicity, let’s assume that there is no pressure on the outside of the bubble ($P_o = 0$). Now, imagine that the stationary soap bubble is cut into two halves. Being at rest, each half has no acceleration and so is in equilibrium. According to Newton’s second law of motion, a zero acceleration implies that the net force acting on each half must be zero ($\sum F = 0$). We will now use this equilibrium relation to obtain an expression relating the interior pressure to the surface tension and the radius of the bubble.</p><p><img src="_v_images/20181220005409130_27795.jpeg" alt="58d9bec08dac7a74cc000015"></p><p><strong>Figure 6</strong> (a) The inner and outer pressures on the spherical soap bubble are $P_i$ and $P_o$, respectively. (b) The forces pointing to the left are due to the surface tension. The forces<br>pointing perpendicular to the hemispherical surface are due to the air pressure inside the<br>bubble.</p><p>Figure 7b shows a free-body diagram for the right half of the bubble, on which two forces act. First, there is the force due to the surface tension in the film. This force is exerted on the right half of the bubble by the left half. The surface tension force points to the left and acts all along the circular edge of the hemispherical film. The magnitude of the force due to each surface of the film is the product of the surface tension $\gamma$ and the circumference ($2\pi R$) of the circular edge, or $\gamma(2πR)$. The total force due to the inner and outer surfaces is twice this amount or $−2\gamma(2\pi R)$. We have included the minus sign to denote that this force points to the left in the drawing. We have also assumed the film to be sufficiently thin enough that its inner and outer radii are nearly the same. Second, there is a force caused by the air pressure inside the bubble. At each point on the surface of the bubble, the force due to the air pressure is perpendicular to the surface and is directed outward. Figure 7b shows this force at six points on the surface. When these forces are added to obtain the total force due to the air pressure, all the components cancel, except those pointing to the right. The total force due to all the components pointing to the right is equal to the product of the pressure Pi inside the bubble times the circular cross-sectional area of the hemisphere, or $P_i (\pi R^2)$. Using these expressions for the forces due to the surface tension and air pressure, we can write Newton’s second law of motion as:</p><p>$$\sum F=0$$<br>$$-2\gamma (2\pi R) + P_i(\pi R^2)=0$$</p><p>Solving this equation for the pressure inside the bubble gives $P_i = 4\gamma /R$. In general, the pressure $P_o$ outside the bubble is not zero. However, this result still gives the difference between the inside and outside pressures, so that we have:</p><p>$$<br>P_i-P_o=\frac{4\gamma}{R}<br>\qquad\text{(Sephere soap bubble)}<br>\tag{2}<br>$$</p><p>This result tells us that the difference in pressure depends on the surface tension and the radius of the sphere. What is surprising is that a greater pressure exists inside a smaller soap bubble (smaller value of $R$) than inside a larger one.</p><p>A spherical drop of liquid, like a drop of water, has only one surface, rather than two surfaces, for there is no air within it. Thus, the force due to the surface tension is only one-half as large as that in a bubble. Consequently, the difference in pressure between the inside and outside of a liquid drop is one-half of that for a soap bubble:</p><p>$$<br>P_i-P_o=\frac{2\gamma}{R}<br>\qquad\text{(Sephere liquid drop)}<br>\tag{3}<br>$$</p><p>Equation 3 is known as Laplace’s law for a spherical liquid drop, after the French physicist and mathematician Marquis Pierre Simon deLaplace (1749–1827). This result also holds for a spherical bubble in a liquid, such as a gas bubble inside a glass of beer. However, the surface tension $\gamma$ is that of the surrounding liquid in which the trapped bubble resides. </p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>MySQL修改root密码</title>
      <link href="/2019/04/12/%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL%E4%BF%AE%E6%94%B9root%E5%AF%86%E7%A0%81/"/>
      <url>/2019/04/12/%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL%E4%BF%AE%E6%94%B9root%E5%AF%86%E7%A0%81/</url>
      
        <content type="html"><![CDATA[<h1 id="MySQL修改root密码"><a href="#MySQL修改root密码" class="headerlink" title="MySQL修改root密码"></a>MySQL修改root密码</h1><h2 id="方法1：-用SET-PASSWORD命令"><a href="#方法1：-用SET-PASSWORD命令" class="headerlink" title="方法1： 用SET PASSWORD命令"></a>方法1： 用SET PASSWORD命令</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mysql -u root</span><br><span class="line">mysql&gt; SET PASSWORD FOR &apos;root&apos;@&apos;localhost&apos; = PASSWORD(&apos;newpass&apos;);</span><br></pre></td></tr></table></figure><h2 id="方法2：用mysqladmin"><a href="#方法2：用mysqladmin" class="headerlink" title="方法2：用mysqladmin"></a>方法2：用mysqladmin</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysqladmin -u root password &quot;newpass&quot;</span><br></pre></td></tr></table></figure><p>如果root已经设置过密码，采用如下方法：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysqladmin -u root password oldpass &quot;newpass&quot;</span><br></pre></td></tr></table></figure></p><h2 id="方法3：-用UPDATE直接编辑user表"><a href="#方法3：-用UPDATE直接编辑user表" class="headerlink" title="方法3： 用UPDATE直接编辑user表"></a>方法3： 用UPDATE直接编辑user表</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">mysql -u root</span><br><span class="line">mysql&gt; use mysql;</span><br><span class="line">mysql&gt; UPDATE user SET Password = PASSWORD(&apos;newpass&apos;) WHERE user = &apos;root&apos;;</span><br><span class="line">mysql&gt; FLUSH PRIVILEGES;</span><br></pre></td></tr></table></figure><h2 id="在丢失root密码的时候，可以这样"><a href="#在丢失root密码的时候，可以这样" class="headerlink" title="在丢失root密码的时候，可以这样"></a>在丢失root密码的时候，可以这样</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mysqld_safe --skip-grant-tables&amp;</span><br><span class="line">mysql -u root mysql</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; UPDATE user SET password=PASSWORD(&quot;new password&quot;) WHERE user=&apos;root&apos;;</span><br><span class="line">mysql&gt; FLUSH PRIVILEGES;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>MacCormack method</title>
      <link href="/2019/04/12/%E6%B5%81%E4%BD%93%E5%8A%9B%E5%AD%A6/MacCormack%20method/"/>
      <url>/2019/04/12/%E6%B5%81%E4%BD%93%E5%8A%9B%E5%AD%A6/MacCormack%20method/</url>
      
        <content type="html"><![CDATA[<h1 id="MacCormack-method"><a href="#MacCormack-method" class="headerlink" title="MacCormack method"></a>MacCormack method</h1><p>The algorithm<br>The MacCormack method is a variation of the two-step Lax–Wendroff scheme but is much simpler in application. To illustrate the algorithm, consider the following first order hyperbolic equation</p><p>$\displaystyle \qquad {\frac {\partial u}{\partial t}}+a{\frac {\partial u}{\partial x}}=0.$</p><p>The application of MacCormack method to the above equation proceeds in two steps; a predictor step which is followed by a corrector step.</p><p>Predictor step: In the predictor step, a “provisional” value of $\displaystyle u$  at time level $\displaystyle n+1$ (denoted by $\displaystyle u_{i}^{\overline {n+1}}$ is estimated as follows</p><p>$\displaystyle u_{i}^{\overline {n+1}}=u_{i}^{n}-a{\frac {\Delta t}{\Delta x}}\left(u_{i+1}^{n}-u_{i}^{n}\right)$</p><p>The above equation is obtained by replacing the spatial and temporal derivatives in the previous first order hyperbolic equation using forward differences.</p><p>Corrector step: In the corrector step, the predicted value $\displaystyle u_{i}^{\overline {n+1}}$ is corrected according to the equation</p><p>$\displaystyle u_{i}^{n+1}=u_{i}^{n+1/2}-a{\frac {\Delta t}{2\Delta x}}\left(u_{i}^{\overline {n+1}}-u_{i-1}^{\overline {n+1}}\right)$</p><p>Note that the corrector step uses backward finite difference approximations for spatial derivative. Note also that the time-step used in the corrector step is $\displaystyle \Delta t/2$ in contrast to the $\displaystyle \Delta t$  used in the predictor step.</p><p>Replacing the $\displaystyle u_{i}^{n+1/2}$ term by the temporal average</p><p>$\displaystyle u_{i}^{n+1/2}={\frac {u_{i}^{n}+u_{i}^{\overline {n+1}}}{2}}$</p><p>to obtain the corrector step as</p><p>$\displaystyle u_{i}^{n+1}={\frac {u_{i}^{n}+u_{i}^{\overline {n+1}}}{2}}-a{\frac {\Delta t}{2\Delta x}}\left(u_{i}^{\overline {n+1}}-u_{i-1}^{\overline {n+1}}\right)$</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Maxwell-Stefan diffusion</title>
      <link href="/2019/04/12/%E6%B5%81%E4%BD%93%E5%8A%9B%E5%AD%A6/Maxwell-Stefan%20diffusion/"/>
      <url>/2019/04/12/%E6%B5%81%E4%BD%93%E5%8A%9B%E5%AD%A6/Maxwell-Stefan%20diffusion/</url>
      
        <content type="html"><![CDATA[<h1 id="Maxwell-Stefan-diffusion"><a href="#Maxwell-Stefan-diffusion" class="headerlink" title="Maxwell-Stefan diffusion"></a>Maxwell-Stefan diffusion</h1><p>$$<br>\frac{\nabla\mu_i}{RT}=\nabla\ln{a_i}=\sum_{j=1,j \neq i}^n{\frac{x_ix_j}{D_{ij}}(\vec{v_j}-\vec{v_i})}=\sum_{j=1,j \neq i}^n{\frac{c_ic_j}{c^2D_{ij}}(\frac{\vec{J_j}}{c_j}-\frac{\vec{J_i}}{c_i}})<br>$$</p><blockquote><p><strong>It is well known that (diagonal) Fick diffusion is an approximation of Maxwell-Stefan diffusion and only coincides with it when the molar masses and the binary diffusivities of the gas components are identical.</strong></p></blockquote><blockquote><p>Lindstrom M, Wetton B. A comparison of Fick and Maxwell–Stefan diffusion formulations in PEMFC gas diffusion layers[J]. Heat and Mass Transfer, 2017, 53(1): 205-212.</p></blockquote>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>湍流模型</title>
      <link href="/2019/04/12/%E6%B5%81%E4%BD%93%E5%8A%9B%E5%AD%A6/%E6%B9%8D%E6%B5%81%E6%A8%A1%E5%9E%8B/"/>
      <url>/2019/04/12/%E6%B5%81%E4%BD%93%E5%8A%9B%E5%AD%A6/%E6%B9%8D%E6%B5%81%E6%A8%A1%E5%9E%8B/</url>
      
        <content type="html"><![CDATA[<h1 id="湍流模型"><a href="#湍流模型" class="headerlink" title="湍流模型"></a>湍流模型</h1><h2 id="1-为正确的湍流模型使用正确的CFD模型"><a href="#1-为正确的湍流模型使用正确的CFD模型" class="headerlink" title="1 为正确的湍流模型使用正确的CFD模型"></a>1 为正确的湍流模型使用正确的CFD模型</h2><p>一个虚构的故事。海森堡说“当我遇到上帝的时候，我会问他两个问题：为什么会有相对论？为什么会有湍流？我想上帝可能只能回答第一个问题。“基于这一观点， 湍流如此复杂， 计算流体力学中湍流模型具有争议也没有什么好奇怪的了。</p><p>因此在实际工程计算过程中，当你</p><h2 id="2-常见应用场合的湍流模型选择"><a href="#2-常见应用场合的湍流模型选择" class="headerlink" title="2 常见应用场合的湍流模型选择"></a>2 常见应用场合的湍流模型选择</h2><table><thead><tr><th>应用</th><th>模型</th></tr></thead><tbody><tr><td>内流及电子冷却</td><td>Wall Treatment models</td></tr><tr><td>气动问题（跨声速流动）</td><td>RANS模型：Spalart-Allmaras模型</td></tr><tr><td>一般问题，复杂几何的外部流动</td><td>RANS模型：k-epsilon模型</td></tr><tr><td>一般问题，内部流动，射流，大曲率流，分离流</td><td>RANS模型：k-w模型</td></tr><tr><td>旋风，强旋转以及其他复杂流动</td><td>RANS模型：雷诺应力模型</td></tr><tr><td>介于层流与湍流之间的流动</td><td>各种转捩模型</td></tr><tr><td>热疲劳，振动，浮力流（船舶设计）</td><td>LES模型</td></tr><tr><td>外部气动力，气动声学，壁面湍流</td><td>DES，DDES，IDDES模型</td></tr><tr><td>基础理论研究及湍流模型构建</td><td>DNS模拟</td></tr><tr><td>分离区域，航天</td><td>Scale Adaptive Simulation（SAS模型）</td></tr></tbody></table><h3 id="2-1-Wall-Treatment-Models"><a href="#2-1-Wall-Treatment-Models" class="headerlink" title="2.1 Wall Treatment Models"></a>2.1 Wall Treatment Models</h3><h4 id="1、规格参数"><a href="#1、规格参数" class="headerlink" title="1、规格参数"></a>1、规格参数</h4><ul><li>利用无量纲壁面距离(Y+)或者length-Velocities(L-Vel)计算湍流粘度</li><li>求解所有的流动</li><li>非常稳健</li><li>计算开销非常小<h4 id="2、应用"><a href="#2、应用" class="headerlink" title="2、应用"></a>2、应用</h4></li><li>内部流动，特别是电子散热问题<h4 id="3、局限性"><a href="#3、局限性" class="headerlink" title="3、局限性"></a>3、局限性</h4></li><li>计算精度较低</li></ul><p>关于Wall Treatment Model在各类CFD软件中的存在情况，如下表所示。</p><table><thead><tr><th>模型</th><th>Altair AcuSolve</th><th>Autodesk CFD</th><th>COMSOL</th><th>ANSYS</th><th>OpenFOAM</th></tr></thead><tbody><tr><td>高雷诺数（High Y+）</td><td>√</td><td></td><td>√</td><td>√</td><td></td></tr><tr><td>低雷诺数（Low Y+）</td><td>√</td><td></td><td></td><td>√</td><td></td></tr><tr><td>All Y+ Hybrid Treatment</td><td>√</td><td></td><td></td><td>√</td><td></td></tr><tr><td>Length-Velocities(L-Vel)</td><td></td><td></td><td>√</td><td></td></tr></tbody></table><h3 id="2-2-RANS模型"><a href="#2-2-RANS模型" class="headerlink" title="2.2 RANS模型"></a>2.2 RANS模型</h3><p>关于RANS模型：</p><ul><li>Reynolds-averaged Navier-Stokes(RANS)是一个湍流模型大家族，包含了很多的子模型</li><li>这些模型的特性是在NS方程基础上添加了一个额外的粘度项</li><li>这些模型的区别在于对于额外的粘度项的处理方式不同</li><li>这些模型都包含一个通用项：湍动能k，单位质量湍流脉动的动能<h4 id="2-2-1-Spalart-Allmaras模型"><a href="#2-2-1-Spalart-Allmaras模型" class="headerlink" title="2.2.1 Spalart-Allmaras模型"></a>2.2.1 Spalart-Allmaras模型</h4></li></ul><p>1、规格参数</p><ul><li>一方程湍流模型</li><li>没有壁面函数，增加了一个新的变量SA粘度</li><li>对内存要求不高</li><li>具有非常好的收敛性</li><li>在精度与简化之间做出了非常好的折中</li></ul><p>2、应用</p><ul><li>主要应用于空气动力学流动问题。如机翼表面的跨声速流动</li></ul><p>3、局限性</p><p>*不适合求解剪切流与分离流</p><p>SA模型在一些CFD软件中的存在如表所示。</p><table><thead><tr><th>模型</th><th>Altair AcuSolve</th><th>Autodesk CFD</th><th>COMSOL</th><th>ANSYS</th><th>OpenFOAM</th></tr></thead><tbody><tr><td>标准形式（低雷诺数）</td><td>√</td><td></td><td>√</td><td>√</td><td>√</td></tr><tr><td>粗糙壁面SA</td><td>√</td><td></td><td></td><td></td><td></td></tr><tr><td>高雷诺数SA</td><td>√</td><td></td><td></td><td>√</td><td>√</td></tr></tbody></table><h4 id="2-2-2-k-epsilon模型"><a href="#2-2-2-k-epsilon模型" class="headerlink" title="2.2.2 k-epsilon模型"></a>2.2.2 k-epsilon模型</h4><p>1、规格参数</p><ul><li>基于湍动能k及湍流耗散率epsilon</li><li>使用壁面函数，因此黏性子层及过渡层无法仿真</li><li>非常流行的两方程模型</li><li>可靠、收敛性好、内存需求低</li><li>有很多的变体模型，如realizable k-epsilon，RNG k-epsilon等</li></ul><p>2、应用</p><ul><li>适用于无分离、可压/不可压流动问题，特别适用于复杂几何的外部流动问题</li></ul><p>3、局限性</p><ul><li>对于无滑移壁面、逆压梯度、强曲率流动以及射流流动不精确。耗散率不容易计算。</li></ul><h4 id="2-2-3-k-w模型"><a href="#2-2-3-k-w模型" class="headerlink" title="2.2.3 k-w模型"></a>2.2.3 k-w模型</h4><p>1、模型参数</p><ul><li>基于k及w，w要比e更容易求解</li><li>内存消耗与k-e模型相当</li><li>通常建议使用SST k-w模型，而不用标准k-w</li></ul><p>2、应用</p><ul><li>适用于内流场，曲率流、分离流及射流</li></ul><p>3、限制</p><ul><li>与k-e模型相比，收敛更困难，且计算结果对初始条件很敏感</li></ul><h4 id="2-2-4-Reynolds-Stress-Transport模型"><a href="#2-2-4-Reynolds-Stress-Transport模型" class="headerlink" title="2.2.4 Reynolds Stress Transport模型"></a>2.2.4 Reynolds Stress Transport模型</h4><p>1、模型参数</p><ul><li>试图直接模拟RANS方程的流动项</li><li>基于6个用于湍流应力的方程</li><li>能够很好的反应流动行为</li></ul><p>2、应用</p><ul><li>适用于评价新的现象及复杂的流动（如旋风分离及旋转）</li></ul><p>3、限制</p><ul><li>非常消耗计算资源，计算结果对初始条件很敏感，需要高质量的计算网格。</li></ul><h4 id="2-2-5-转捩模型"><a href="#2-2-5-转捩模型" class="headerlink" title="2.2.5 转捩模型"></a>2.2.5 转捩模型</h4><p>1、模型参数</p><ul><li>模型用于模拟流动从层流转变到湍流的过程</li><li>转捩不连续</li></ul><p>2、应用</p><ul><li>适用于流动从层流转变到湍流的情况</li></ul><p>3、限制</p><ul><li>边界条件会对计算造成困难</li></ul><h4 id="2-2-6-LES模型"><a href="#2-2-6-LES模型" class="headerlink" title="2.2.6 LES模型"></a>2.2.6 LES模型</h4><p>1、模型参数</p><ul><li>大涡模拟基于自相似理论</li><li>使用sub-grid-scale模拟计算小涡，而大涡基于几何计算</li><li>将大涡与小涡的速度场分开</li></ul><p>2、应用</p><ul><li>热疲劳、振动以及浮力流动(船舶设计)</li></ul><p>3、局限性</p><ul><li>近壁面区域计算困难</li></ul><h4 id="2-2-7-DES-DDES-IDDES模型"><a href="#2-2-7-DES-DDES-IDDES模型" class="headerlink" title="2.2.7 DES,DDES,IDDES模型"></a>2.2.7 DES,DDES,IDDES模型</h4><p>1、模型参数</p><ul><li>分离涡模拟（DES）在近壁面采用RANS，在湍流核心区采用LES</li><li>Delayed DES(DDES)模拟可以阻止模型应力损耗以及网格导致的分离</li><li>Improve DDES与DDES模型一样解决对数区不匹配的问题</li></ul><p>2、应用</p><p>*适用于外流空气动力学，气动声学，壁面湍流等</p><p>3、局限性</p><ul><li>程序设计麻烦</li></ul><h4 id="2-2-8-直接数值模拟DNS"><a href="#2-2-8-直接数值模拟DNS" class="headerlink" title="2.2.8 直接数值模拟DNS"></a>2.2.8 直接数值模拟DNS</h4><p>1、模型参数</p><ul><li>直接采用数值方法求解NS方程，不采用任何湍流模型</li><li>湍流的时间及空间尺度在网格中进行求解</li></ul><p>2、应用</p><ul><li>机理研究以及工程应用中湍流模型开发</li></ul><p>3、限制</p><ul><li>对计算资源要求非常高。目前仅用于低雷诺数流动</li></ul>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>VS Code 恢复右键菜单</title>
      <link href="/2019/04/12/Windows/VS%20Code%20%E6%81%A2%E5%A4%8D%E5%8F%B3%E9%94%AE%E8%8F%9C%E5%8D%95/"/>
      <url>/2019/04/12/Windows/VS%20Code%20%E6%81%A2%E5%A4%8D%E5%8F%B3%E9%94%AE%E8%8F%9C%E5%8D%95/</url>
      
        <content type="html"><![CDATA[<h1 id="VS-Code-恢复右键菜单"><a href="#VS-Code-恢复右键菜单" class="headerlink" title="VS Code 恢复右键菜单"></a>VS Code 恢复右键菜单</h1><p><strong>注意是32位还是64位程序</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">Windows Registry Editor Version 5.00   </span><br><span class="line">   </span><br><span class="line">; Open files   </span><br><span class="line">[HKEY_CLASSES_ROOT\*\shell\Open with VS Code]   </span><br><span class="line">@=&quot;Edit with VS Code&quot;   </span><br><span class="line">&quot;Icon&quot;=&quot;C:\\Program Files\\Microsoft VS Code\\Code.exe,0&quot;   </span><br><span class="line">   </span><br><span class="line">[HKEY_CLASSES_ROOT\*\shell\Open with VS Code\command]   </span><br><span class="line">@=&quot;\&quot;C:\\Program Files\\Microsoft VS Code\\Code.exe\&quot; \&quot;%1\&quot;&quot;   </span><br><span class="line">   </span><br><span class="line">; This will make it appear when you right click ON a folder   </span><br><span class="line">; The &quot;Icon&quot; line can be removed if you don&apos;t want the icon to appear   </span><br><span class="line">   </span><br><span class="line">[HKEY_CLASSES_ROOT\Directory\shell\vscode]   </span><br><span class="line">@=&quot;Open Folder as VS Code Project&quot;   </span><br><span class="line">&quot;Icon&quot;=&quot;\&quot;C:\\Program Files\\Microsoft VS Code\\Code.exe\&quot;,0&quot;   </span><br><span class="line">   </span><br><span class="line">[HKEY_CLASSES_ROOT\Directory\shell\vscode\command]   </span><br><span class="line">@=&quot;\&quot;C:\\Program Files\\Microsoft VS Code\\Code.exe\&quot; \&quot;%1\&quot;&quot;   </span><br><span class="line">   </span><br><span class="line">   </span><br><span class="line">; This will make it appear when you right click INSIDE a folder   </span><br><span class="line">; The &quot;Icon&quot; line can be removed if you don&apos;t want the icon to appear   </span><br><span class="line">   </span><br><span class="line">[HKEY_CLASSES_ROOT\Directory\Background\shell\vscode]   </span><br><span class="line">@=&quot;Open Folder as VS Code Project&quot;   </span><br><span class="line">&quot;Icon&quot;=&quot;\&quot;C:\\Program Files\\Microsoft VS Code\\Code.exe\&quot;,0&quot;   </span><br><span class="line">   </span><br><span class="line">[HKEY_CLASSES_ROOT\Directory\Background\shell\vscode\command]   </span><br><span class="line">@=&quot;\&quot;C:\\Program Files\\Microsoft VS Code\\Code.exe\&quot; \&quot;%V\&quot;&quot;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>流动不稳定性</title>
      <link href="/2019/04/12/%E6%B5%81%E4%BD%93%E5%8A%9B%E5%AD%A6/%E6%B5%81%E5%8A%A8%E4%B8%8D%E7%A8%B3%E5%AE%9A%E6%80%A7/"/>
      <url>/2019/04/12/%E6%B5%81%E4%BD%93%E5%8A%9B%E5%AD%A6/%E6%B5%81%E5%8A%A8%E4%B8%8D%E7%A8%B3%E5%AE%9A%E6%80%A7/</url>
      
        <content type="html"><![CDATA[<h1 id="流动不稳定性"><a href="#流动不稳定性" class="headerlink" title="流动不稳定性"></a>流动不稳定性</h1><h2 id="瑞利-泰勒不稳定性"><a href="#瑞利-泰勒不稳定性" class="headerlink" title="瑞利-泰勒不稳定性"></a>瑞利-泰勒不稳定性</h2><p>简称RT不稳定性，在任何时间都会发生在密集的重流体被轻的流体加速时。这是发生在云与激波系统的事件，或者当密度较高的流体浮在密度较低的液体，像是漂浮在水上而密度较高的油。</p><h2 id="开尔文-亥姆霍兹不稳定性"><a href="#开尔文-亥姆霍兹不稳定性" class="headerlink" title="开尔文-亥姆霍兹不稳定性"></a>开尔文-亥姆霍兹不稳定性</h2><p>是在有剪力速度的连续流体内部或有速度差的两个不同流体的界面之间发生的不稳定现象。一个例子是风吹过水面时，在水面上表面的波的不稳定。而这种不稳定状况更常见于云、海洋、土星的云带、木星的大红斑、太阳的日冕中。</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>边界层分离 Flow separation</title>
      <link href="/2019/04/12/%E6%B5%81%E4%BD%93%E5%8A%9B%E5%AD%A6/%E8%BE%B9%E7%95%8C%E5%B1%82%E5%88%86%E7%A6%BB%20Flow%20separation/"/>
      <url>/2019/04/12/%E6%B5%81%E4%BD%93%E5%8A%9B%E5%AD%A6/%E8%BE%B9%E7%95%8C%E5%B1%82%E5%88%86%E7%A6%BB%20Flow%20separation/</url>
      
        <content type="html"><![CDATA[<h1 id="边界层分离-Flow-separation"><a href="#边界层分离-Flow-separation" class="headerlink" title="边界层分离 Flow separation"></a>边界层分离 Flow separation</h1><p><strong>边界层分离</strong>是一种流体的现象，是指原本紧贴物体表面流动的边界层脱离物体表面。</p><p>若边界层受到<strong>逆压梯度</strong>的影响，使得边界层相对物体的速度渐渐下降，甚至接近0，此时就会出现边界层分离的现象。此时流体的流动脱离物体的表面，会产生<strong>涡流</strong>及<strong>涡旋</strong>。</p><p>反向流动主要是由于边界层外的位流对边界层施加的逆压梯度所造成。边界层内沿着流线的动量方程式可以用下式来近似：</p><p>$$<br>u\frac{\partial u}{\partial s} = -\frac{1}{\rho}\frac{dp}{ds}+\nu \frac{\partial^2u}{\partial y^2}<br>$$</p><p>当$\frac{dp}{ds}&gt;0$时，出现逆压梯度的现象，若逆压梯度够大，会使得速度$u$沿着流线$s$减少，最后甚至可能变为零或负值。</p><p>边界层是否会分离是依沿着表面的速度梯度$\frac{\partial u}{\partial s}$分布为正值或负值而定。在分离点处，$\frac{\partial u}{\partial s}=0$</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>CentOS 自动登陆和自动联网</title>
      <link href="/2019/04/12/Linux/CentOS/CentOS%20%E8%87%AA%E5%8A%A8%E7%99%BB%E9%99%86%E5%92%8C%E8%87%AA%E5%8A%A8%E8%81%94%E7%BD%91/"/>
      <url>/2019/04/12/Linux/CentOS/CentOS%20%E8%87%AA%E5%8A%A8%E7%99%BB%E9%99%86%E5%92%8C%E8%87%AA%E5%8A%A8%E8%81%94%E7%BD%91/</url>
      
        <content type="html"><![CDATA[<h1 id="CentOS-自动登陆和自动联网"><a href="#CentOS-自动登陆和自动联网" class="headerlink" title="CentOS 自动登陆和自动联网"></a>CentOS 自动登陆和自动联网</h1><h2 id="自动登陆"><a href="#自动登陆" class="headerlink" title="自动登陆"></a>自动登陆</h2><p>修改/etc/gdm/custom.conf文件<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/gdm/custom.conf</span><br></pre></td></tr></table></figure></p><p>daemon修改为：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[daemon]  </span><br><span class="line">AutomaticLoginEnable=true  #设置系统自动登陆为可用</span><br><span class="line">AutomaticLogin=username  #这里改为你要知动登陆的用户名</span><br></pre></td></tr></table></figure></p><h2 id="自动联网"><a href="#自动联网" class="headerlink" title="自动联网"></a>自动联网</h2><p>修改/etc/sysconfig/network-scripts/文件夹下的网卡配置文件<br>例如：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/sysconfig/network-scripts/ifcfg-eth0</span><br></pre></td></tr></table></figure></p><p>配置文件中ONBOOT修改为yes<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ONBOOT=yes</span><br></pre></td></tr></table></figure></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>OpenWRT安装Shadowsocks gfwlist</title>
      <link href="/2019/04/12/Linux/OpenWRT/OpenWRT%E5%AE%89%E8%A3%85Shadowsocks%20gfwlist/"/>
      <url>/2019/04/12/Linux/OpenWRT/OpenWRT%E5%AE%89%E8%A3%85Shadowsocks%20gfwlist/</url>
      
        <content type="html"><![CDATA[<h1 id="OpenWRT安装Shadowsocks-gfwlist"><a href="#OpenWRT安装Shadowsocks-gfwlist" class="headerlink" title="OpenWRT安装Shadowsocks gfwlist"></a>OpenWRT安装Shadowsocks gfwlist</h1><h2 id="编辑ss服务器地址："><a href="#编辑ss服务器地址：" class="headerlink" title="编辑ss服务器地址："></a>编辑ss服务器地址：</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/shadowsocks.json</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;server&quot;: &quot;???&quot;,</span><br><span class="line">  &quot;server_port&quot;: &quot;???&quot;,</span><br><span class="line">  &quot;local_port&quot;: &quot;1080&quot;,</span><br><span class="line">  &quot;password&quot;: &quot;??&quot;,</span><br><span class="line">  &quot;method&quot;: &quot;rc4-md5&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="配置dnsmasq"><a href="#配置dnsmasq" class="headerlink" title="配置dnsmasq"></a>配置dnsmasq</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">opkg remove dnsmasq &amp;&amp; opkg install dnsmasq-full</span><br><span class="line">mkdir /etc/dnsmasq.d/</span><br><span class="line">echo &quot;conf-dir=/etc/dnsmasq.d&quot; &gt;&gt; /etc/dnsmasq.conf</span><br></pre></td></tr></table></figure><h2 id="下载adblock和gfwlist"><a href="#下载adblock和gfwlist" class="headerlink" title="下载adblock和gfwlist"></a>下载adblock和gfwlist</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">cd /etc/dnsmasq.d/</span><br><span class="line">## adblock 防广告</span><br><span class="line">wget https://gist.githubusercontent.com/Hurray0/59f9232e045717791c7859c2dcb4fd8f/raw/8bb57c25cf76c00ee27b1b06b27c2863621518bb/adblock.conf</span><br><span class="line">## gfwlist</span><br><span class="line">wget https://gist.githubusercontent.com/Hurray0/36d61523582f998888b6311b891b1a8f/raw/1343b9482723f342ec9e71a910612cf94a2f3619/dnsmasq_list.conf</span><br></pre></td></tr></table></figure><p><strong>注意删除其他的config</strong></p><h2 id="创建shadowsocks服务程序"><a href="#创建shadowsocks服务程序" class="headerlink" title="创建shadowsocks服务程序"></a>创建shadowsocks服务程序</h2><p>命名为ss区分shadowsocks原程序：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">touch /etc/init.d/ss</span><br></pre></td></tr></table></figure></p><p>内容如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/sh</span><br><span class="line">START=95</span><br><span class="line">SERVICE_USE_PID=1</span><br><span class="line">SERVICE_WRITE_PID=1</span><br><span class="line">SERVICE_DAEMONIZE=1</span><br><span class="line">SERVICE_PID_FILE=/var/run/shadowsocks.pid</span><br><span class="line">CONFIG=/etc/shadowsocks.json</span><br><span class="line">DNS=8.8.8.8:53</span><br><span class="line">TUNNEL_PORT=5353</span><br><span class="line">start() &#123;</span><br><span class="line"># Client Mode</span><br><span class="line">#service_start /usr/bin/ss-local -c $CONFIG -b 0.0.0.0 -f $SERVICE_PID_FILE</span><br><span class="line"># Proxy Mode</span><br><span class="line">service_start /usr/bin/ss-redir -c $CONFIG -b 0.0.0.0 -f $SERVICE_PID_FILE</span><br><span class="line"># Tunnel</span><br><span class="line">service_start /usr/bin/ss-tunnel -c $CONFIG -b 0.0.0.0 -u -l $TUNNEL_PORT -L $DNS</span><br><span class="line">&#125;</span><br><span class="line">stop() &#123;</span><br><span class="line"># Client Mode</span><br><span class="line">#service_stop /usr/bin/ss-local</span><br><span class="line"># Proxy Mode</span><br><span class="line">service_stop /usr/bin/ss-redir</span><br><span class="line"># Tunnel</span><br><span class="line">service_stop /usr/bin/ss-tunnel</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h2 id="ss开机自启动"><a href="#ss开机自启动" class="headerlink" title="ss开机自启动"></a>ss开机自启动</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">chmod a+x /etc/init.d/ss</span><br><span class="line">/etc/init.d/ss enable</span><br><span class="line">/etc/init.d/ss start</span><br></pre></td></tr></table></figure><h2 id="配置端口转发"><a href="#配置端口转发" class="headerlink" title="配置端口转发"></a>配置端口转发</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/firewall.user</span><br></pre></td></tr></table></figure><p>增加如下内容：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">#创建名为gfwlist，格式为iphash的集合</span><br><span class="line">ipset -N gfwlist iphash</span><br><span class="line">#匹配gfwlist中ip的nat流量均被转发到shadowsocks端口</span><br><span class="line">iptables -t nat -A PREROUTING -p tcp -m set --match-set gfwlist dst -j REDIRECT --to-port 1080</span><br><span class="line">#匹配gfwlist中ip的本机流量均被转发到shadowsocks端口</span><br><span class="line">iptables -t nat -A OUTPUT -p tcp -m set --match-set gfwlist dst -j REDIRECT --to-port 1080</span><br></pre></td></tr></table></figure></p><h2 id="重新启动dnsmasq"><a href="#重新启动dnsmasq" class="headerlink" title="重新启动dnsmasq"></a>重新启动dnsmasq</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/etc/init.d/dnsmasq restart</span><br></pre></td></tr></table></figure><h2 id="重启路由器"><a href="#重启路由器" class="headerlink" title="重启路由器"></a>重启路由器</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">reboot</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>PVE+LEDE</title>
      <link href="/2019/04/12/Linux/OpenWRT/PVE+LEDE/"/>
      <url>/2019/04/12/Linux/OpenWRT/PVE+LEDE/</url>
      
        <content type="html"><![CDATA[<h1 id="PVE-LEDE"><a href="#PVE-LEDE" class="headerlink" title="PVE+LEDE"></a>PVE+LEDE</h1><h2 id="准备工作"><a href="#准备工作" class="headerlink" title="准备工作"></a>准备工作</h2><ol><li>去Proxmox官网下载镜像。</li><li>下载lede x64安装镜像。</li><li>下载img2kvm工具，用来把lede镜像转为kvm磁盘。<br><a href="_v_attachments/20190313001457970_4405/img2kvm">img2kvm</a></li></ol><h2 id="安装PVE"><a href="#安装PVE" class="headerlink" title="安装PVE"></a>安装PVE</h2><p>将pve安装镜像写入U盘，使用uefi模式安装系统。</p><h2 id="安装LEDE系统"><a href="#安装LEDE系统" class="headerlink" title="安装LEDE系统"></a>安装LEDE系统</h2><p>在PVE中新建VM，不用建立硬盘。<br>执行<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./img2kvm openwrt.img 100 local-lvm</span><br></pre></td></tr></table></figure></p><p>将LEDE镜像转为VM磁盘。</p><h2 id="配置网络"><a href="#配置网络" class="headerlink" title="配置网络"></a>配置网络</h2><p>在PVE中 <strong>Create -&gt; Linux Bridge</strong> 添加所有的网卡，管理接口作为LAN口，IP地址设置为：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">192.168.2.254</span><br><span class="line">255.255.255.0</span><br><span class="line">192.168.2.1</span><br></pre></td></tr></table></figure></p><p>作为WAN口的网卡IP地址不用设置。</p><p>在虚拟机中添加网卡，Model均设置为VirtIO。</p><p>开启LEDE虚拟机，在网络接口中将LAN口设置为<code>192.168.2.1</code>即可正常上网。</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>v2ray透明代理</title>
      <link href="/2019/04/12/Linux/OpenWRT/v2ray%E9%80%8F%E6%98%8E%E4%BB%A3%E7%90%86/"/>
      <url>/2019/04/12/Linux/OpenWRT/v2ray%E9%80%8F%E6%98%8E%E4%BB%A3%E7%90%86/</url>
      
        <content type="html"><![CDATA[<h1 id="v2ray透明代理"><a href="#v2ray透明代理" class="headerlink" title="v2ray透明代理"></a>v2ray透明代理</h1><h2 id="路由器中安装v2ray"><a href="#路由器中安装v2ray" class="headerlink" title="路由器中安装v2ray"></a>路由器中安装v2ray</h2><p>在github release中下载对应版本即可，注意路由器可能是mipsle版本。</p><h2 id="路由器中v2ray配置"><a href="#路由器中v2ray配置" class="headerlink" title="路由器中v2ray配置"></a>路由器中v2ray配置</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;outbound&quot;: &#123;</span><br><span class="line">    &quot;protocol&quot;: &quot;vmess&quot;,</span><br><span class="line">    &quot;settings&quot;:&#123;</span><br><span class="line">        &quot;vnext&quot;:[</span><br><span class="line">            &#123;</span><br><span class="line">                &quot;address&quot;:&quot;35.229.241.54&quot;,</span><br><span class="line">                &quot;port&quot;: 10010,</span><br><span class="line">                &quot;users&quot;: [</span><br><span class="line">                    &#123;</span><br><span class="line">                    &quot;id&quot;: &quot;8e540d28-3887-49a7-8fda-d7c7554dc8bc&quot;,</span><br><span class="line">                    &quot;level&quot;: 1,</span><br><span class="line">                    &quot;alterId&quot;: 64</span><br><span class="line">                    &#125;</span><br><span class="line">                ]</span><br><span class="line">            &#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;,</span><br><span class="line"></span><br><span class="line">  &quot;outboundDetour&quot;: [</span><br><span class="line">    &#123;</span><br><span class="line">        &quot;protocol&quot;:&quot;freedom&quot;,</span><br><span class="line">        &quot;settings&quot;:&#123;</span><br><span class="line">        &#125;,</span><br><span class="line">        &quot;tag&quot;:&quot;direct&quot;</span><br><span class="line">     &#125;    </span><br><span class="line">  ],</span><br><span class="line">  &quot;inbound&quot;: &#123;</span><br><span class="line">  &quot;protocol&quot;: &quot;dokodemo-door&quot;,</span><br><span class="line">  &quot;port&quot;: 5353, </span><br><span class="line">  &quot;listen&quot;: &quot;127.0.0.1&quot;,</span><br><span class="line">  &quot;settings&quot;: &#123;</span><br><span class="line">    &quot;address&quot;: &quot;8.8.8.8&quot;,</span><br><span class="line">    &quot;port&quot;: 53,</span><br><span class="line">    &quot;network&quot;: &quot;udp&quot;,</span><br><span class="line">    &quot;timeout&quot;: 0,</span><br><span class="line">    &quot;followRedirect&quot;: false</span><br><span class="line">    &#125;</span><br><span class="line">&#125;,</span><br><span class="line">&quot;inboundDetour&quot;: [</span><br><span class="line">    &#123;</span><br><span class="line">&quot;domainOverride&quot;:[&quot;http&quot;, &quot;tls&quot;], </span><br><span class="line">&quot;protocol&quot;: &quot;dokodemo-door&quot;,</span><br><span class="line">&quot;port&quot;:1060, </span><br><span class="line">&quot;settings&quot;:&#123;</span><br><span class="line">    &quot;network&quot;: &quot;tcp&quot;,</span><br><span class="line">    &quot;timeout&quot;: 30,</span><br><span class="line">    &quot;followRedirect&quot;: true</span><br><span class="line">            &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">    &quot;protocol&quot;:&quot;socks&quot;,</span><br><span class="line">    &quot;port&quot;:8080,</span><br><span class="line">    &quot;settings&quot;:&#123;</span><br><span class="line">            &quot;auth&quot;:&quot;noauth&quot;,</span><br><span class="line">            &quot;udp&quot;:false,</span><br><span class="line">            &quot;ip&quot;:&quot;127.0.0.1&quot;</span><br><span class="line">            &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    ],</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  &quot;routing&quot;: &#123;</span><br><span class="line">       &quot;strategy&quot;:&quot;rules&quot;,</span><br><span class="line">      &quot;settings&quot;:&#123;</span><br><span class="line">         &quot;domainStrategy&quot;:&quot;IPIfNonMatch&quot;,</span><br><span class="line">         &quot;rules&quot;:[</span><br><span class="line">            &#123;</span><br><span class="line">               &quot;type&quot;:&quot;field&quot;,</span><br><span class="line">               &quot;port&quot;:&quot;1-52&quot;,</span><br><span class="line">               &quot;outboundTag&quot;:&quot;direct&quot;</span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">               &quot;type&quot;:&quot;field&quot;,</span><br><span class="line">               &quot;port&quot;:&quot;54-79&quot;,</span><br><span class="line">               &quot;outboundTag&quot;:&quot;direct&quot;</span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">               &quot;type&quot;:&quot;field&quot;,</span><br><span class="line">               &quot;port&quot;:&quot;81-442&quot;,</span><br><span class="line">               &quot;outboundTag&quot;:&quot;direct&quot;</span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">               &quot;type&quot;:&quot;field&quot;,</span><br><span class="line">               &quot;port&quot;:&quot;444-3999&quot;,</span><br><span class="line">               &quot;outboundTag&quot;:&quot;direct&quot;</span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">               &quot;type&quot;:&quot;field&quot;,</span><br><span class="line">               &quot;port&quot;:&quot;4001-65535&quot;, </span><br><span class="line">               &quot;outboundTag&quot;:&quot;direct&quot;</span><br><span class="line">            &#125;,</span><br><span class="line">&#123;</span><br><span class="line">            &quot;domain&quot;:[ </span><br><span class="line">              &quot;vultr.com&quot;</span><br><span class="line">                ],</span><br><span class="line">                  &quot;type&quot;:&quot;field&quot;,</span><br><span class="line">                &quot;outboundTag&quot;:&quot;direct&quot;</span><br><span class="line">              &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">               &quot;type&quot;:&quot;chinasites&quot;,</span><br><span class="line">               &quot;outboundTag&quot;:&quot;direct&quot;</span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">               &quot;type&quot;:&quot;field&quot;,</span><br><span class="line">               &quot;ip&quot;:[</span><br><span class="line">                  &quot;0.0.0.0/8&quot;,</span><br><span class="line">                  &quot;10.0.0.0/8&quot;,</span><br><span class="line">                  &quot;100.64.0.0/10&quot;,</span><br><span class="line">                  &quot;127.0.0.0/8&quot;,</span><br><span class="line">                  &quot;169.254.0.0/16&quot;,</span><br><span class="line">                  &quot;172.16.0.0/12&quot;,</span><br><span class="line">                  &quot;192.0.0.0/24&quot;,</span><br><span class="line">                  &quot;192.0.2.0/24&quot;,</span><br><span class="line">                  &quot;192.168.0.0/16&quot;,</span><br><span class="line">                  &quot;198.18.0.0/15&quot;,</span><br><span class="line">                  &quot;198.51.100.0/24&quot;,</span><br><span class="line">                  &quot;203.0.113.0/24&quot;,</span><br><span class="line">                  &quot;::1/128&quot;,</span><br><span class="line">                  &quot;fc00::/7&quot;,</span><br><span class="line">                  &quot;fe80::/10&quot;</span><br><span class="line">               ],</span><br><span class="line">               &quot;outboundTag&quot;:&quot;direct&quot;</span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">               &quot;type&quot;:&quot;chinaip&quot;,</span><br><span class="line">               &quot;outboundTag&quot;:&quot;direct&quot;</span><br><span class="line">            &#125;</span><br><span class="line">         ]</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">   &quot;transport&quot;:&#123;</span><br><span class="line">      &quot;tcpSettings&quot;:&#123;</span><br><span class="line">         &quot;connectionReuse&quot;:true</span><br><span class="line">      &#125;,</span><br><span class="line">      &quot;kcpSettings&quot;:&#123;</span><br><span class="line">         &quot;mtu&quot;:1350,</span><br><span class="line">         &quot;tti&quot;:20,</span><br><span class="line">         &quot;uplinkCapacity&quot;:100,</span><br><span class="line">         &quot;downlinkCapacity&quot;:100,</span><br><span class="line">         &quot;congestion&quot;:false,</span><br><span class="line">         &quot;readBufferSize&quot;:5,</span><br><span class="line">         &quot;writeBufferSize&quot;:5,</span><br><span class="line">         &quot;header&quot;:&#123;</span><br><span class="line">            &quot;type&quot;:&quot;utp&quot;</span><br><span class="line">         &#125;</span><br><span class="line">      &#125;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="网关iptables设置"><a href="#网关iptables设置" class="headerlink" title="网关iptables设置"></a>网关iptables设置</h2><p>需要设置iptables把所有tcp流量导入网关的1060端口：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">iptables -t nat -N v2ray</span><br><span class="line">iptables -t nat -A v2ray -d 11.22.33.44 -j RETURN //改成你的 VPS 的 IP</span><br><span class="line">iptables -t nat -A v2ray -d 0.0.0.0/8 -j RETURN</span><br><span class="line">iptables -t nat -A v2ray -d 10.0.0.0/8 -j RETURN</span><br><span class="line">iptables -t nat -A v2ray -d 127.0.0.0/8 -j RETURN</span><br><span class="line">iptables -t nat -A v2ray -d 169.254.0.0/16 -j RETURN</span><br><span class="line">iptables -t nat -A v2ray -d 172.16.0.0/12 -j RETURN</span><br><span class="line">iptables -t nat -A v2ray -d 192.168.0.0/16 -j RETURN</span><br><span class="line">iptables -t nat -A v2ray -d 224.0.0.0/4 -j RETURN</span><br><span class="line">iptables -t nat -A v2ray -d 240.0.0.0/4 -j RETURN</span><br><span class="line">iptables -t nat -A v2ray -p tcp -j REDIRECT --to-ports 1060</span><br><span class="line">iptables -t nat -A PREROUTING -p tcp -j v2ray</span><br></pre></td></tr></table></figure><p>这个方法是参考利用 v2ray + GFWList 实现路由器自动翻墙。</p><h2 id="dnsmasq配置"><a href="#dnsmasq配置" class="headerlink" title="dnsmasq配置"></a>dnsmasq配置</h2><p>用v2ray转发dnsmasq的非标准端口查询GFWlist里面的域名，从而避免DNS查询结果被污染。GFWlist配置文件使用gfwlist2dnmasq这个脚本来生成。</p><p>dnsmasq配置文件：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">port=53</span><br><span class="line">no-resolv</span><br><span class="line">no-poll</span><br><span class="line">server=114.114.114.114</span><br><span class="line">listen-address=192.168.1.1,127.0.0.1</span><br><span class="line">dhcp-range=192.168.1.100,192.168.1.199,255.255.255.0,12h</span><br><span class="line">cache-size=131072</span><br><span class="line">log-queries</span><br><span class="line">log-dhcp</span><br><span class="line">log-facility=/var/log/dnsmasq/dnsmasq.log</span><br><span class="line">conf-dir=/etc/dnsmasq.d</span><br></pre></td></tr></table></figure><p><strong>注：在路由器中某些设置已经存在，自定义的时候要去掉。如果路由器中有mdns或者其他dns进程要kill掉。</strong></p><p>墙内墙外域名分开查询:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/cokebar/gfwlist2dnsmasq</span><br><span class="line">cd gfwlist2dnsmasq</span><br><span class="line">./gfwlist2dnsmasq.sh -d 127.0.0.1 -p 5353 -o dnsmasq_gfwlist.conf    //5353 是v2ray配置的转发dns查询端口号</span><br><span class="line">mkdir /etc/dnsmasq.d</span><br><span class="line">cp dnsmasq_gfwlist.conf /etc/dnsmasq.d</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>CFX在Ubuntu平台配置</title>
      <link href="/2019/04/12/Linux/Ubuntu/CFX%E5%9C%A8Ubuntu%E5%B9%B3%E5%8F%B0%E9%85%8D%E7%BD%AE/"/>
      <url>/2019/04/12/Linux/Ubuntu/CFX%E5%9C%A8Ubuntu%E5%B9%B3%E5%8F%B0%E9%85%8D%E7%BD%AE/</url>
      
        <content type="html"><![CDATA[<h1 id="CFX在Ubuntu平台配置"><a href="#CFX在Ubuntu平台配置" class="headerlink" title="CFX在Ubuntu平台配置"></a>CFX在Ubuntu平台配置</h1><h2 id="问题描述"><a href="#问题描述" class="headerlink" title="问题描述"></a>问题描述</h2><p>cfx5pre和cfx5post一般工作正常，但是cfx5solve在进行计算时会出现错误，具体提示为:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">A ANSYS CFX &apos;double-ifort&apos; Partitioner executable is required for this run, but none is available.</span><br></pre></td></tr></table></figure></p><h2 id="解决方法"><a href="#解决方法" class="headerlink" title="解决方法"></a>解决方法</h2><p>ansys本身并没有对ubuntu系统进行适配，原因可能是函数库不匹配。解决方法为在运行cfx5solve之前更改一下环境变量：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">export LD_DEBUG=unused</span><br></pre></td></tr></table></figure></p><p>然后再运行cfx5solve即可。需要注意的是cfx5pre和cfx5post不能有此环境变量，否则会出错。</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Ubuntu配置共享打印机</title>
      <link href="/2019/04/12/Linux/Ubuntu/Ubuntu%E9%85%8D%E7%BD%AE%E5%85%B1%E4%BA%AB%E6%89%93%E5%8D%B0%E6%9C%BA/"/>
      <url>/2019/04/12/Linux/Ubuntu/Ubuntu%E9%85%8D%E7%BD%AE%E5%85%B1%E4%BA%AB%E6%89%93%E5%8D%B0%E6%9C%BA/</url>
      
        <content type="html"><![CDATA[<h1 id="Ubuntu配置共享打印机"><a href="#Ubuntu配置共享打印机" class="headerlink" title="Ubuntu配置共享打印机"></a>Ubuntu配置共享打印机</h1><h2 id="1-安装cups"><a href="#1-安装cups" class="headerlink" title="1. 安装cups"></a>1. 安装cups</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install cups cups-client</span><br></pre></td></tr></table></figure><h2 id="2-配置cups"><a href="#2-配置cups" class="headerlink" title="2. 配置cups"></a>2. 配置cups</h2><p>用如下内容替代<code>/etc/cups/cupsd.conf</code>：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line">ConfigFilePerm 0600</span><br><span class="line">LogLevel info</span><br><span class="line">Printcap /var/run/cups/printcap</span><br><span class="line">RunAsUser Yes</span><br><span class="line">Port 631</span><br><span class="line">Include cupsd-browsing.conf</span><br><span class="line">BrowseAddress @LOCAL</span><br><span class="line">BrowseAddress 10.0.0.0/8</span><br><span class="line">BrowseAddress 172.16.0.0/12</span><br><span class="line">BrowseAddress 192.168.13.0/24</span><br><span class="line"></span><br><span class="line">&lt;Location /&gt;</span><br><span class="line">AuthType None</span><br><span class="line">Order Deny,Allow</span><br><span class="line">Deny From All</span><br><span class="line">Allow From @LOCAL</span><br><span class="line">Allow From 10.0.0.0/8</span><br><span class="line">Allow From 172.16.0.0/12</span><br><span class="line">Allow From 192.168.13.0/24</span><br><span class="line">&lt;/Location&gt;</span><br><span class="line"></span><br><span class="line">&lt;Location /jobs&gt;</span><br><span class="line">AuthType None</span><br><span class="line">Order Deny,Allow</span><br><span class="line">Deny From All</span><br><span class="line">Allow From @LOCAL</span><br><span class="line">Allow From 10.0.0.0/8</span><br><span class="line">Allow From 172.16.0.0/12</span><br><span class="line">Allow From 192.168.13.0/24</span><br><span class="line">&lt;/Location&gt;</span><br><span class="line"></span><br><span class="line">&lt;Location /printers&gt;</span><br><span class="line">AuthType None</span><br><span class="line">Order Deny,Allow</span><br><span class="line">Deny From All</span><br><span class="line">Allow From @LOCAL</span><br><span class="line">Allow From 10.0.0.0/8</span><br><span class="line">Allow From 172.16.0.0/12</span><br><span class="line">Allow From 192.168.13.0/24</span><br><span class="line">&lt;/Location&gt;</span><br><span class="line"></span><br><span class="line">&lt;Location /admin&gt;</span><br><span class="line">AuthType None</span><br><span class="line">Order Deny,Allow</span><br><span class="line">Deny From All</span><br><span class="line">Allow From @LOCAL</span><br><span class="line">Allow From 10.0.0.0/8</span><br><span class="line">Allow From 172.16.0.0/12</span><br><span class="line">Allow From 192.168.13.0/24</span><br><span class="line">&lt;/Location&gt;</span><br></pre></td></tr></table></figure><h2 id="3-安装惠普打印机驱动"><a href="#3-安装惠普打印机驱动" class="headerlink" title="3. 安装惠普打印机驱动"></a>3. 安装惠普打印机驱动</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install printer-driver-hp*</span><br><span class="line">sudo apt install hplip</span><br></pre></td></tr></table></figure><h2 id="4-配置打印机"><a href="#4-配置打印机" class="headerlink" title="4. 配置打印机"></a>4. 配置打印机</h2><p>以root用户执行：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hp-setup -i</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Ununtu Server安装ANSYS 17.2时的几点注意</title>
      <link href="/2019/04/12/Linux/Ubuntu/Ununtu%20Server%E5%AE%89%E8%A3%85ANSYS%2017.2%E6%97%B6%E7%9A%84%E5%87%A0%E7%82%B9%E6%B3%A8%E6%84%8F/"/>
      <url>/2019/04/12/Linux/Ubuntu/Ununtu%20Server%E5%AE%89%E8%A3%85ANSYS%2017.2%E6%97%B6%E7%9A%84%E5%87%A0%E7%82%B9%E6%B3%A8%E6%84%8F/</url>
      
        <content type="html"><![CDATA[<h1 id="Ununtu-Server安装ANSYS-17-2时的几点注意"><a href="#Ununtu-Server安装ANSYS-17-2时的几点注意" class="headerlink" title="Ununtu Server安装ANSYS 17.2时的几点注意"></a>Ununtu Server安装ANSYS 17.2时的几点注意</h1><ul><li>安装<code>csh</code></li><li><code>~/.ansys</code>目录要有读写权限</li><li>做符号链接：<code>sudo ln -s /lib64/ld-linux-x86-64.so.2 /lib64/ld-lsb-x86-64.so.3</code></li><li><figure class="highlight plain"><figcaption><span>install xfs xfstt</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">apt-get install t1-xfree86-nonfree ttf-xfree86-nonfree ttf-xfree86-nonfree-syriac xfonts-75dpi xfonts-100dpi</span><br><span class="line">xset +fp /usr/share/fonts/X11/75dpi/</span><br><span class="line">xset +fp /usr/share/fonts/X11/100dpi/</span><br></pre></td></tr></table></figure></li></ul>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Ubuntu配置命令行发送邮件</title>
      <link href="/2019/04/12/Linux/Ubuntu/Ubuntu%E9%85%8D%E7%BD%AE%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%8F%91%E9%80%81%E9%82%AE%E4%BB%B6/"/>
      <url>/2019/04/12/Linux/Ubuntu/Ubuntu%E9%85%8D%E7%BD%AE%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%8F%91%E9%80%81%E9%82%AE%E4%BB%B6/</url>
      
        <content type="html"><![CDATA[<h1 id="Ubuntu配置命令行发送邮件"><a href="#Ubuntu配置命令行发送邮件" class="headerlink" title="Ubuntu配置命令行发送邮件"></a>Ubuntu配置命令行发送邮件</h1><h2 id="1-安装mutt和msmtp"><a href="#1-安装mutt和msmtp" class="headerlink" title="1 安装mutt和msmtp"></a>1 安装mutt和msmtp</h2><h2 id="2-更改配置文件"><a href="#2-更改配置文件" class="headerlink" title="2 更改配置文件"></a>2 更改配置文件</h2><h3 id="2-1-新建-muttrc"><a href="#2-1-新建-muttrc" class="headerlink" title="2.1 新建~/.muttrc"></a>2.1 新建~/.muttrc</h3><p>内容如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">set sendmail=&quot;/usr/bin/msmtp&quot;</span><br><span class="line">set from = &quot;dongbing@sjtu.edu.cn&quot;</span><br><span class="line">set realname = &quot;Dong Bing&quot;</span><br><span class="line">set imap_user = &quot;dongbing@sjtu.edu.cn&quot;</span><br><span class="line">set imap_pass = &quot;#dong71643612#&quot;</span><br><span class="line">set use_from = yes</span><br><span class="line">set envelope_from = yes</span><br></pre></td></tr></table></figure></p><h3 id="2-2-新建-msmtprc"><a href="#2-2-新建-msmtprc" class="headerlink" title="2.2 新建~/.msmtprc"></a>2.2 新建~/.msmtprc</h3><p>内容如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">defaults</span><br><span class="line">port 587</span><br><span class="line">tls on</span><br><span class="line">tls_trust_file /etc/ssl/certs/ca-certificates.crt</span><br><span class="line">account SJTU</span><br><span class="line">host mail.sjtu.edu.cn</span><br><span class="line">from dongbing@sjtu.edu.cn</span><br><span class="line">auth on</span><br><span class="line">user dongbing@sjtu.edu.cn</span><br><span class="line">password #dong71643612#</span><br></pre></td></tr></table></figure></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>解决x0vncserver输入小于号变成大于号</title>
      <link href="/2019/04/12/Linux/Ubuntu/%E8%A7%A3%E5%86%B3x0vncserver%E8%BE%93%E5%85%A5%E5%B0%8F%E4%BA%8E%E5%8F%B7%E5%8F%98%E6%88%90%E5%A4%A7%E4%BA%8E%E5%8F%B7/"/>
      <url>/2019/04/12/Linux/Ubuntu/%E8%A7%A3%E5%86%B3x0vncserver%E8%BE%93%E5%85%A5%E5%B0%8F%E4%BA%8E%E5%8F%B7%E5%8F%98%E6%88%90%E5%A4%A7%E4%BA%8E%E5%8F%B7/</url>
      
        <content type="html"><![CDATA[<h1 id="解决x0vncserver输入小于号变成大于号"><a href="#解决x0vncserver输入小于号变成大于号" class="headerlink" title="解决x0vncserver输入小于号变成大于号"></a>解决x0vncserver输入小于号变成大于号</h1><p>在启动命令中增加<code>-RemapKeys=&quot;0x3c-&gt;0x2c&quot;</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">x0vncserver -display :0 -passwordfile .vnc/passwd -RemapKeys=&quot;0x3c-&gt;0x2c&quot;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>安装Ubuntu Server排坑</title>
      <link href="/2019/04/12/Linux/Ubuntu/%E5%AE%89%E8%A3%85Ubuntu%20Server%E6%8E%92%E5%9D%91/"/>
      <url>/2019/04/12/Linux/Ubuntu/%E5%AE%89%E8%A3%85Ubuntu%20Server%E6%8E%92%E5%9D%91/</url>
      
        <content type="html"><![CDATA[<h1 id="安装Ubuntu-Server排坑"><a href="#安装Ubuntu-Server排坑" class="headerlink" title="安装Ubuntu Server排坑"></a>安装Ubuntu Server排坑</h1><h2 id="1-安装系统"><a href="#1-安装系统" class="headerlink" title="1. 安装系统"></a>1. 安装系统</h2><p>使用uefi安装时，注意引导硬盘第一个分区必须为EFI分区系统，大小可以设置为512M。第二个分区为根分区。</p><h2 id="2-安装桌面环境"><a href="#2-安装桌面环境" class="headerlink" title="2. 安装桌面环境"></a>2. 安装桌面环境</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install xfce4</span><br><span class="line">sudo apt install lightdm</span><br></pre></td></tr></table></figure><p>安装完成后<code>startx</code>或者<code>startxfce4</code>即可进入桌面。<br>然后需要配置lightdm的启动session，查看<code>/usr/share/xsessions</code>下可用的session名字，然后修改<code>/usr/share/lightdm/lightdm.conf.d/50-ubuntu.conf</code>（如果没有需要创建一个），内容为：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[SeatDefaults]</span><br><span class="line">user-session=xfce</span><br></pre></td></tr></table></figure></p><h2 id="3-配置中文环境"><a href="#3-配置中文环境" class="headerlink" title="3. 配置中文环境"></a>3. 配置中文环境</h2><p>安装中文语言包<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install language-pack-zh-hans</span><br></pre></td></tr></table></figure></p><p>安装中文字体<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install fonts-wqy-microhei</span><br><span class="line">sudo apt install fonts-wqy-zenhei</span><br></pre></td></tr></table></figure></p><h2 id="4-安装显卡驱动"><a href="#4-安装显卡驱动" class="headerlink" title="4. 安装显卡驱动"></a>4. 安装显卡驱动</h2><p>在你的用户登录界面按<code>ctrl+alt+F1</code>进入tty模式。<br>执行：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get purge nvidia-*</span><br><span class="line">sudo apt-get install software-properties-common</span><br><span class="line">sudo add-apt-repository ppa:graphics-drivers/ppa</span><br><span class="line">sudo apt-get update</span><br><span class="line">sudo apt-get install nvidia-387</span><br></pre></td></tr></table></figure></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Fluent Enhanced Compressible Flow Numerics</title>
      <link href="/2019/04/12/%E6%B5%81%E4%BD%93%E5%8A%9B%E5%AD%A6/Fluent/Fluent%20Enhanced%20Compressible%20Flow%20Numerics/"/>
      <url>/2019/04/12/%E6%B5%81%E4%BD%93%E5%8A%9B%E5%AD%A6/Fluent/Fluent%20Enhanced%20Compressible%20Flow%20Numerics/</url>
      
        <content type="html"><![CDATA[<h1 id="Fluent-Enhanced-Compressible-Flow-Numerics"><a href="#Fluent-Enhanced-Compressible-Flow-Numerics" class="headerlink" title="Fluent Enhanced Compressible Flow Numerics"></a>Fluent Enhanced Compressible Flow Numerics</h1><p>An enhanced numerical treatment is available that may provide better stability at start-up and during calculation by controlling the rate of change of pressure and temperature between iterations and by providing additional diagonal dominance to the matrix of equations. To enable the enhanced compressible numerics treatment, use the text command:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">solve/set/vof-numerics</span><br><span class="line">...</span><br><span class="line">Enable enhanced compressible flow numerics? [no] yes</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Fluent Including Body Forces</title>
      <link href="/2019/04/12/%E6%B5%81%E4%BD%93%E5%8A%9B%E5%AD%A6/Fluent/Fluent%20Including%20Body%20Forces/"/>
      <url>/2019/04/12/%E6%B5%81%E4%BD%93%E5%8A%9B%E5%AD%A6/Fluent/Fluent%20Including%20Body%20Forces/</url>
      
        <content type="html"><![CDATA[<h1 id="Fluent-Including-Body-Forces"><a href="#Fluent-Including-Body-Forces" class="headerlink" title="Fluent Including Body Forces"></a>Fluent Including Body Forces</h1><h2 id="25-2-7-Including-Body-Forces"><a href="#25-2-7-Including-Body-Forces" class="headerlink" title="25.2.7. Including Body Forces"></a>25.2.7. Including Body Forces</h2><p>For VOF and mixture calculations involving body forces, it is recommended that you also enable the <strong>Implicit Body Force</strong> treatment for the <strong>Body Force Formulation</strong> in the <strong>Multiphase Model</strong> dialog box. This treatment improves solution convergence by accounting for the partial equilibrium of the pressure gradient and body forces in the momentum equations.</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Large Eddy Simulation of Pipe flow using FLUENT 14.0</title>
      <link href="/2019/04/12/%E6%B5%81%E4%BD%93%E5%8A%9B%E5%AD%A6/Fluent/Large%20Eddy%20Simulation%20of%20Pipe%20flow%20using%20FLUENT%2014.0/"/>
      <url>/2019/04/12/%E6%B5%81%E4%BD%93%E5%8A%9B%E5%AD%A6/Fluent/Large%20Eddy%20Simulation%20of%20Pipe%20flow%20using%20FLUENT%2014.0/</url>
      
        <content type="html"><![CDATA[<h1 id="Large-Eddy-Simulation-of-Pipe-flow-using-FLUENT-14-0"><a href="#Large-Eddy-Simulation-of-Pipe-flow-using-FLUENT-14-0" class="headerlink" title="Large Eddy Simulation of Pipe flow using FLUENT 14.0"></a>Large Eddy Simulation of Pipe flow using FLUENT 14.0</h1><p>This post describes the methodology of setting up and running a LES simulation  in ANSYS-FLUENT, a very brief description about the meshing and solution procedure is presented here. Compared to RANS, LES simulations require finer grids since it aims in resolving the large scales of turbulent motion thus providing a better insight of the flow physics however LES is a transient simulation and the computation cost of LES much higher than that of RANS, for a detailed review please see :</p><ol><li>Piomelli, A primer on DNS/LES.</li><li>Grid-point requirements for large eddy simulation: Chapman’s estimates revisited. H. Choi and P. Moin. Physics of Fluids, 24(1), 2012 (also see the original Chapman’s paper in the late ‘70s ~78-79)</li><li>Turbulent flows, Pope (2006).</li></ol><p>I am not describing the theory of LES here as there are several good books available and I would recommend reading, chapters 1-7 in Pope, and chapter 13 on LES. Chapters 6 and 7 in Pope’s book explains about turbulence in free shear turbulent flows (jets, self-similarity) and chapter 7 describes about stable attached turbulent flows (pipes, channels). I would highly recommend reading these as they explain the significance of certain parameters like $y+$, $u_{\tau}$, law of the wall, the regimes in a turbulent velocity profile and so on.</p><p>The present tutorial is based on pipe flow at $Re = 24,580$ (experimental data of Toonder &amp; Nieuwstadt, and DNS data of X. Wu and Moin is available).</p><h2 id="1-Create-a-pipe-geometry-in-ICEM-CFD"><a href="#1-Create-a-pipe-geometry-in-ICEM-CFD" class="headerlink" title="1. Create a pipe geometry in ICEM-CFD"></a>1. Create a pipe geometry in ICEM-CFD</h2><p><img src="_v_images/20181220003126165_23941.png" alt="59c676448dac7a6c56000008"><br>The dimensions of the pipe are : 2.5m in length, 0.2m in diameter.</p><h2 id="2-Create-a-3D-bounding-block"><a href="#2-Create-a-3D-bounding-block" class="headerlink" title="2. Create a 3D bounding block"></a>2. Create a 3D bounding block</h2><p><img src="_v_images/20181220003152598_9347.png" alt="59c676448dac7a6c56000007"></p><p> associate the edges around the circle to the circle at both the faces.</p><h2 id="3-Split-the-block-in-the-form-of-an-o-grid-for-this-select-the-the-single-block-and-the-faces-on-the-circles"><a href="#3-Split-the-block-in-the-form-of-an-o-grid-for-this-select-the-the-single-block-and-the-faces-on-the-circles" class="headerlink" title="3. Split the block in the form of an o-grid : for this select the the single block and the faces on the circles"></a>3. Split the block in the form of an o-grid : for this select the the single block and the faces on the circles</h2><h2 id="4-For-better-mesh-quality-set-an-offset-of-0-65"><a href="#4-For-better-mesh-quality-set-an-offset-of-0-65" class="headerlink" title="4. For better mesh quality, set an offset of 0.65"></a>4. For better mesh quality, set an offset of 0.65</h2><p><img src="_v_images/20181220003225473_26207.png" alt="59c676448dac7a6c56000006"></p><h2 id="5-Input-the-number-of-nodes-and-ratios-the-near-wall-spacing-y-here-is-0-25-and-the-wall-parallel-spacing-of-25-0-x-this-is-achieved-by-inputting-the-correct-number-of-nodes-in-each-of-the-directions"><a href="#5-Input-the-number-of-nodes-and-ratios-the-near-wall-spacing-y-here-is-0-25-and-the-wall-parallel-spacing-of-25-0-x-this-is-achieved-by-inputting-the-correct-number-of-nodes-in-each-of-the-directions" class="headerlink" title="5. Input the number of nodes and ratios (the near wall spacing, $y+$ here is 0.25) and the wall parallel spacing of 25.0 ($x+$), this is achieved by inputting the correct number of nodes in each of the directions."></a>5. Input the number of nodes and ratios (the near wall spacing, $y+$ here is 0.25) and the wall parallel spacing of 25.0 ($x+$), this is achieved by inputting the correct number of nodes in each of the directions.</h2><p><img src="_v_images/20181220003247884_22073.png" alt="59c676448dac7a6c56000009"></p><p>I had input 65 nodes in the wall normal spacing, and 55 nodes in the z-direction.</p><h2 id="6-The-boundary-conditions-play-an-important-role-in-LES-simulations-in-the-present-study-periodic-boundary-conditions-with-a-pressure-gradient-is-used-the-pressure-gradient-is-calculated-based-on-the-u-friction-velocity-u-tau-in-case-of-pipe-flow"><a href="#6-The-boundary-conditions-play-an-important-role-in-LES-simulations-in-the-present-study-periodic-boundary-conditions-with-a-pressure-gradient-is-used-the-pressure-gradient-is-calculated-based-on-the-u-friction-velocity-u-tau-in-case-of-pipe-flow" class="headerlink" title="6. The boundary conditions play an important role in LES simulations, in the present study periodic boundary conditions with a pressure-gradient is used, the pressure gradient is calculated based on the u friction velocity ($u_{\tau}$), in case of pipe flow :"></a>6. The boundary conditions play an important role in LES simulations, in the present study periodic boundary conditions with a pressure-gradient is used, the pressure gradient is calculated based on the u friction velocity ($u_{\tau}$), in case of pipe flow :</h2><p>$$<br>\frac{dp}{dx} = (-4u_{fric}^2/\rho)<br>$$<br>for channel:</p><p>$$<br>\frac{dp}{dx} = (-2u_{fric}^2/\rho)<br>$$<br>$$<br>u_{fric} = \sqrt{\tau_w/\rho}<br>$$<br>(Refer pope for the derivations and explanations)</p><p>Periodicity can be defined in icem or in fluent, in the present case periodicity is defined in icem, go to the mesh button in mesh, click on set up periodicity :</p><p><img src="_v_images/20181220003326188_14477.png" alt="59c6794b8dac7a6c5600000c"></p><p>set translational periodicity, and in this case the periodicity is in the x-direction based on the length of the pipe, therefore : 2.5 0.0 0.0</p><p>select the vertices on the periodic faces (circles):</p><p><img src="_v_images/20181220003348944_17750.png" alt="59c6794b8dac7a6c5600000b"></p><p>Once selected, you can view the periodic faces by selecting faces, view periodic faces:</p><p><img src="_v_images/20181220003407714_26459.png" alt="59c6794b8dac7a6c5600000a"></p><p>Now you can create the parts : inlet, wall etc. and save the mesh and translate it to fluent</p><p>Alternatively you can set up periodicity in fluent, but sometimes you may end up with errors such as “segmentation-violation” especially in the case of large meshes.</p><h2 id="7-Setting-up-LES-in-fluent"><a href="#7-Setting-up-LES-in-fluent" class="headerlink" title="7. Setting up LES in fluent :"></a>7. Setting up LES in fluent :</h2><p>I would suggest running a RANS simulation in a similar coarser mesh with pbc in fluent and then interpolating the RANS solution in the present case.  After interpolation, you can add fluctuating components to the RANS velocity profile by :</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/solve/init/init-instantaneous-vel</span><br></pre></td></tr></table></figure><p>Once done, change the viscous model as Large Eddy Simulation, start with the standard <strong>Smagorinsky-Lily model</strong>. The default values of $Cs$ (0.1) is  good enough for simple attached flows, for flows involving large separations and instabilities the dynamic subgrid model can be used or the value of Cs can be set from available  literature.</p><p>Set the periodic boundary condition of pressure-gradient in the boundary conditions, mass-flow could also be used but the pressure-gradient seems to be more stable and provide better convergence.</p><p>For the pressure-velocity coupling, <strong>SIMPLEC algorithm</strong> is used and the <strong>bounded central differencing scheme</strong> is used for the velocity and in case of the time advancement the 2nd order backward euler implicit is used.  (bounded 2nd order implicit)</p><p>You can define a small iso-curve near the wall for monitoring statistical convergence of velcocity (defined under surface monitor) </p><p>Define the timestep of the simulation such that your $CFL$ number is less than 1.0</p><p>$CFL = U*\Delta T/\Delta x$ where $\Delta x$ is your wall parallel spacing, I would recommend a $CFL$ of 0.50 and the number of inner iterations around 15-20.</p><p>You can run the simulation now!</p><h2 id="Some-points-to-be-noted"><a href="#Some-points-to-be-noted" class="headerlink" title="Some points to be noted :"></a>Some points to be noted :</h2><p>Make sure that in each time step your residuals drop down by the order of 2. You may achieve a statistically stationary state in 2-3 flow through times (FTT) , 1 FTT is defined as the time taken by a particle to cross the entire domain. Do not collect any unsteady data statistics until statistical stationary state has been reached. Once you have reached statistical convergence, you can switch on the sampling interval and unsteady data collection .. meanwhile you could monitor your $CFL$ number, plot q-criterion for the evolution of turbulence.</p><p><img src="_v_images/20181220003455867_15644.jpeg" alt="59c679ad8dac7a6c5600000d"></p><p>You can check for the convergence of your solution by comparing the wall shear stress of the CFD with the momentum-balance equation, which reads as :</p><p>$$<br>-\frac{dp}{dx} (\pi<em>r^2</em>L)=\tau_{wall}(2<em>\pi</em>r*L)<br>$$<br>or alternatively you could check for the skin friction coefficient ($C_f$) and friction factor ($f$) ($f=4C_f$), and compare with correlations..</p><p><img src="_v_images/20181220003518618_2462.jpeg" alt="59c679ad8dac7a6c5600000e"></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Fluent VOF Interpolation Near the Interface</title>
      <link href="/2019/04/12/%E6%B5%81%E4%BD%93%E5%8A%9B%E5%AD%A6/Fluent/Fluent%20VOF%20Interpolation%20Near%20the%20Interface/"/>
      <url>/2019/04/12/%E6%B5%81%E4%BD%93%E5%8A%9B%E5%AD%A6/Fluent/Fluent%20VOF%20Interpolation%20Near%20the%20Interface/</url>
      
        <content type="html"><![CDATA[<h1 id="Fluent-VOF-Interpolation-Near-the-Interface"><a href="#Fluent-VOF-Interpolation-Near-the-Interface" class="headerlink" title="Fluent VOF Interpolation Near the Interface"></a>Fluent VOF Interpolation Near the Interface</h1><h2 id="17-3-4-3-4-The-Compressive-Scheme-and-Interface-Model-based-Variants"><a href="#17-3-4-3-4-The-Compressive-Scheme-and-Interface-Model-based-Variants" class="headerlink" title="17.3.4.3.4. The Compressive Scheme and Interface-Model-based Variants"></a>17.3.4.3.4. The Compressive Scheme and Interface-Model-based Variants</h2><p>The compressive scheme is a second order reconstruction scheme based on the slope limiter. The theory below is applicable to zonal discretization and the phase localized discretization, which use the framework of the compressive scheme.</p><p>$$<br>\phi_f=\phi_d+\beta \nabla\phi_d<br>$$<br>where<br>$\phi_f$ is the face VOF value<br>$\phi_d$ is the donor cell VOF value<br>$\beta$ is the slope limiter value<br>$\phi_d$ is the donor cell VOF gradient value</p><p>The slope limiter for the zonal discretization and phase localized compressive schemes can be summarized in the table below:</p><table><thead><tr><th>Slope Limiter Value $\beta$</th><th>Scheme</th></tr></thead><tbody><tr><td>0</td><td>first order upwind</td></tr><tr><td>1</td><td>second order reconstruction bounded by the global minimum/maximum of the volume fraction</td></tr><tr><td>2</td><td>compressive</td></tr><tr><td>0&lt;$\beta$&lt;1 and 1&lt;$\beta$&lt;2</td><td>blended: where a value between 0 and 1 means blending of the first order and second order and a value between 1 and 2 means blending of the second order and compressive scheme</td></tr></tbody></table><p>The compressive scheme discretization depends on the selection of interface regime type. When sharp interface regime modeling is selected, the compressive scheme is only suited to modeling sharp interfaces. However, when sharp/dispersed interface modeling is chosen, the compressive scheme is suited for both sharp and dispersed interface modeling.</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Fluent VOF Volume Fraction Limits</title>
      <link href="/2019/04/12/%E6%B5%81%E4%BD%93%E5%8A%9B%E5%AD%A6/Fluent/Fluent%20VOF%20Volume%20Fraction%20Limits/"/>
      <url>/2019/04/12/%E6%B5%81%E4%BD%93%E5%8A%9B%E5%AD%A6/Fluent/Fluent%20VOF%20Volume%20Fraction%20Limits/</url>
      
        <content type="html"><![CDATA[<h1 id="Fluent-VOF-Volume-Fraction-Limits"><a href="#Fluent-VOF-Volume-Fraction-Limits" class="headerlink" title="Fluent VOF Volume Fraction Limits"></a>Fluent VOF Volume Fraction Limits</h1><h2 id="25-2-2-3-Volume-Fraction-Limits"><a href="#25-2-2-3-Volume-Fraction-Limits" class="headerlink" title="25.2.2.3. Volume Fraction Limits"></a>25.2.2.3. Volume Fraction Limits</h2><p>The <strong>Volume Fraction Cutoff</strong> allows you to specify a cutoff limit for the volume fraction values. The value that you provide is used as the lower cutoff for the volume fraction. All volume fraction values in the domain below this cutoff value are set to zero. The upper cutoff is calculated as (1.0 - lower cutoff). All volume fraction values above the upper cutoff value are set to 1.0. The default value is 1e-6, which is the recommended value. Using a higher value may lead to a higher volume imbalance.</p><blockquote><p>Important:  The Volume Fraction Cutoff value can be specified when using the VOF model, or when using the Eulerian Multiphase model with the Explicit formulation.</p></blockquote><blockquote><p>Note:  For the Implicit formulation, the minimum value allowed is 0 and the maximum allowable value is 1e-6. For the Explicit formulation, the minimum value allowed is 0 and the maximum allowable value is 1e-4. A higher cutoff value is available with the Explicit formulation because it allows for the local redistribution procedure of partially filled cells, which accounts for volume loss. This treatment is not available with the Implicit formulation.</p></blockquote>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Tecplot编辑自己想要的变量</title>
      <link href="/2019/04/12/%E6%B5%81%E4%BD%93%E5%8A%9B%E5%AD%A6/Tecplot/Tecplot%E7%BC%96%E8%BE%91%E8%87%AA%E5%B7%B1%E6%83%B3%E8%A6%81%E7%9A%84%E5%8F%98%E9%87%8F/"/>
      <url>/2019/04/12/%E6%B5%81%E4%BD%93%E5%8A%9B%E5%AD%A6/Tecplot/Tecplot%E7%BC%96%E8%BE%91%E8%87%AA%E5%B7%B1%E6%83%B3%E8%A6%81%E7%9A%84%E5%8F%98%E9%87%8F/</url>
      
        <content type="html"><![CDATA[<h1 id="Tecplot编辑自己想要的变量"><a href="#Tecplot编辑自己想要的变量" class="headerlink" title="Tecplot编辑自己想要的变量"></a>Tecplot编辑自己想要的变量</h1><p><code>Data-&gt;Alter-&gt;Specify Equations</code> 可以使用公式。</p><p>Tecplot 公式形式如下：<code>Lvalue = f(Rvalue1, Rvalue2, Rvalue3, ...)</code></p><p>例如：<code>V7=SQRT(V5 ** 2+V6 ** 2)/346</code>    (<code>V7</code>为马赫数，要由<code>Vx</code>和<code>Vy</code>计算得到速度再除以声速)</p><p>然后按左下角的 Compute 按钮完成计算！</p><p>注意variables栏中前一列的序号1~9就是<code>VX</code>的数字<code>X</code>，如<code>V5</code>、<code>V6</code>和<code>V7</code>。它是按数据文件中变量的顺序引用变量，<code>V1</code> 是数据文件中的第一个变量，<code>V2</code> 是第二个，依此类推。如，要设置数据文件中第一个变量等于第二个变量和第三个变量的和，用<code>V1 = V2+V3</code>。</p><p>用这个方法创建新变量必须指定下一个变量的序号，假设数据文件中有9个变量，可以创建一个新变量等于第四个变量的一半：<code>V10= V4 / 2</code>。</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>一维激波管差分格式</title>
      <link href="/2019/04/12/%E6%B5%81%E4%BD%93%E5%8A%9B%E5%AD%A6/%E4%B8%80%E7%BB%B4%E9%97%AE%E9%A2%98/%E4%B8%80%E7%BB%B4%E6%BF%80%E6%B3%A2%E7%AE%A1%E5%B7%AE%E5%88%86%E6%A0%BC%E5%BC%8F/"/>
      <url>/2019/04/12/%E6%B5%81%E4%BD%93%E5%8A%9B%E5%AD%A6/%E4%B8%80%E7%BB%B4%E9%97%AE%E9%A2%98/%E4%B8%80%E7%BB%B4%E6%BF%80%E6%B3%A2%E7%AE%A1%E5%B7%AE%E5%88%86%E6%A0%BC%E5%BC%8F/</url>
      
        <content type="html"><![CDATA[<h1 id="一维激波管差分格式"><a href="#一维激波管差分格式" class="headerlink" title="一维激波管差分格式"></a>一维激波管差分格式</h1><h2 id="Riemann问题"><a href="#Riemann问题" class="headerlink" title="Riemann问题"></a>Riemann问题</h2><p>$$<br>\begin{aligned}<br>\rho &amp;= 1.0, u = 0, p = 1.0, x\in\left[-1,0\right)\<br>\rho &amp;= 0.125, u=0, p=0.1, x\in\left[0,-1\right]<br>\end{aligned}<br>$$</p><h2 id="差分格式"><a href="#差分格式" class="headerlink" title="差分格式"></a>差分格式</h2><h3 id="MacCormack格式"><a href="#MacCormack格式" class="headerlink" title="MacCormack格式"></a>MacCormack格式</h3><p>60年代到70年代应用广泛的格式</p><h3 id="Jameson格式"><a href="#Jameson格式" class="headerlink" title="Jameson格式"></a>Jameson格式</h3><p>80年代提出采用中心差分，构造人工粘性抑制振荡</p><h3 id="FVS格式"><a href="#FVS格式" class="headerlink" title="FVS格式"></a>FVS格式</h3><p>矢量通量分裂格式，80年代提出，迎风格式</p><h3 id="FDS格式"><a href="#FDS格式" class="headerlink" title="FDS格式"></a>FDS格式</h3><p>通量分裂格式，Roe-type，TVD，ENO，WENO</p><h3 id="NND格式"><a href="#NND格式" class="headerlink" title="NND格式"></a>NND格式</h3><p>80年代张涵信院士提出，属于TVD格式一种</p><h3 id="AUSM格式"><a href="#AUSM格式" class="headerlink" title="AUSM格式"></a>AUSM格式</h3><p>AUSM是一种杂交通量分裂格式，是FVS与FDS的复合格式</p>]]></content>
      
      
      
    </entry>
    
    
  
  
</search>
